<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Python graphes Networkx
| Sciences numériques</title><link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel=stylesheet><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167114468-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-167114468-1');</script><link rel=stylesheet href=/book.min.692ac0322e0d29b47afd1a1a2dcda6f0c23c4d95c922ccd6c8fe66b0e8841492.css><link rel=icon href=/favicon.png type=image/x-icon><div class=my-header-container><div class=my-site-header><img src=/logo-site-b.svg width="150 px"></div><div id=myHeader><div class=titre><h2><a href=/>Sciences numériques</a></h2></div></div></div><script async>window.onload=function(){let container=document.getElementsByClassName("book-page");let logodiv=document.getElementsByClassName("site-menu-before");let header=document.getElementById("myHeader");let screen=window.innerWidth;let site_footer=document.querySelector(".site_footer");try{let site_TOC=document.querySelector("#TableOfContents>ul");let newP=document.createElement('li');newP.textContent='Contenu de la page';site_TOC.appendChild(newP,null);}
catch(err)
{console.log(err.message);}
if(site_footer.parentNode!=document.body){let father=site_footer.parentNode;let clone=site_footer.cloneNode;father.removeChild(site_footer);document.body.appendChild(clone);}
if(screen<=850){document.getElementsByClassName("my-site-header")[0].style.display="none";}else{window.addEventListener("scroll",function(e){let spectral=document.getElementById("spectral");if(screen>850){if(window.pageYOffset>150){header.classList.add("sticky");if(container.lenght>0){container[0].style.marginTop="65px";};logodiv[0].style.height="120px";}else{header.classList.remove("sticky");if(container.lenght>0){container[0].style.marginTop="0px";};spectral.style.display="none";logodiv[0].style.height="220px";}}
if(screen<=850){if(window.pageYOffset>150){spectral.style.display="block";}else{spectral.style.display="none";}}});}}</script></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav role=navigation><div class=site-menu-before style=height:220px;display:block><img src=/logo-site.svg id=spectral height=50% style=display:none></div><style>nav ul a[href$=\2fposts\2fpython\2fPython_graphes_Networkx\2f ]{color:#004ed0}</style><ul><li><a href=/><strong>Accueil</strong></a></li><li><a href=/docs/esf/esf_index/><strong>ESF</strong></a></li><li><p><a href=/docs/SNT_2nde/SNT_index/><strong>SNT secondes</strong></a></p></li><li><p><a href=/docs/NSI/NSI_index/><strong>NSI</strong></a></p><ul><li><a href=/docs/NSI/NSI_architecture/>architecture informatique</a></li><li><a href=/docs/NSI/NSI_structure/>structure de données</a></li><li><a href=/docs/NSI/NSI_bases/>bases de données</a></li><li><a href=/docs/NSI/NSI_langages/>langages</a></li><li><a href=/docs/NSI/NSI_algorithmes/>algorithmes</a><br></li></ul></li><li><p><a href=/docs/python/index_python/><strong>Python</strong></a></p></li><li><p><a href=/docs/PC_2nde/PC_index/><strong>Physique Chimie 2nde</strong></a></p><ul><li><a href=/docs/PC_2nde/physique/pages/page1/>physique du mouvement</a></li><li><a href=/docs/PC_2nde/physique/pages/page2/>échanges thermiques</a></li><li><a href=/docs/PC_2nde/chimie/pages/mole/>la mole</a></li><li><a href=/docs/PC_2nde/chimie/pages/transformation/>transformation chimique</a></li><li><a href=/docs/PC_2nde/chimie/pages/avancement/>animation avancement</a></li></ul></li><li><p><a href=/docs/PC_1ere/PC_index/><strong>Physique 1ere Spé</strong></a></p><ul><li><a href=/docs/PC_1ere/energie/energie1/>Energie</a></li><li><a href=/docs/PC_1ere/atome/atome/>modèle de Bohr de l&rsquo;atome</a></li><li><a href=/docs/PC_1ere/notebooks/PC_notebooks/>ipython notebooks</a></li></ul></li><li><p><a href=/posts/><strong>Posts</strong></a></p></li><li><p><a href=/docs/contact/simple-contact-form/><strong>Contact</strong></a></p></li></ul></nav><script>(function(){var menu=document.querySelector('aside.book-menu nav')
addEventListener('beforeunload',function(event){localStorage.setItem('menu.scrollTop',menu.scrollTop)});menu.scrollTop=localStorage.getItem('menu.scrollTop')})()</script></aside><div class=book-posts><header class="align-center justify-between book-header"><label for=menu-control><img src=/svg/menu.svg alt=Menu></label>
<strong>Python graphes Networkx</strong></header><header class=markdown><h1>Python graphes Networkx</h1><h5><strong>Sept 1, 1019</strong></h5></header><article class=markdown><h1 id=tracé-de-graphes-avec-networkx>tracé de graphes avec Networkx</h1><p>Les scripts suivants permettent de choisir entre plusieurs types de configuration pour tracer un graphe avec Networkx, module Python.</p><p>On pourra choisir de personaliser :</p><ul><li>la couleur d&rsquo;un noeud</li><li>l&rsquo;etiquette des noeuds</li><li>l&rsquo;étiquette des arêtes</li><li>le type de trait (plein ou en pointillés) des arêtes</li></ul><h2 id=déclaration-du-graphe>Déclaration du graphe</h2><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> <span style=color:#111>matplotlib.pyplot</span> <span style=color:#f92672>as</span> <span style=color:#111>plt</span>
<span style=color:#f92672>import</span> <span style=color:#111>networkx</span> <span style=color:#f92672>as</span> <span style=color:#111>nx</span>
<span style=color:#f92672>from</span> <span style=color:#111>numpy</span> <span style=color:#f92672>import</span> <span style=color:#111>array</span>

<span style=color:#111>G</span> <span style=color:#f92672>=</span> <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>Graph</span><span style=color:#111>()</span>
<span style=color:#75715e># definition des noeuds</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;A&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;pink&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;B&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;red&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;C&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;white&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>3</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;D&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;white&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;E&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;white&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>5</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;F&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;blue&#39;</span><span style=color:#111>)</span>
<span style=color:#75715e># definition des aretes</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>6</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;dashed&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>5</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span><span style=color:#ae81ff>4</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>,</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>5</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>,</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>,</span><span style=color:#ae81ff>3</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>3</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#ae81ff>3</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>8</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>,</span><span style=color:#ae81ff>5</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>6</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;dashed&#39;</span><span style=color:#111>)</span>
<span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_edge</span><span style=color:#111>(</span><span style=color:#ae81ff>3</span><span style=color:#111>,</span><span style=color:#ae81ff>5</span><span style=color:#111>,</span><span style=color:#111>weight</span><span style=color:#f92672>=</span><span style=color:#ae81ff>9</span><span style=color:#111>,</span><span style=color:#111>styl</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>)</span></code></pre></div><h2 id=exploration-de-la-structure-de-données>Exploration de la structure de données</h2><h3 id=couleur-des-noeuds>couleur des noeuds</h3><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>liste</span> <span style=color:#f92672>=</span> <span style=color:#111>list</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>nodes</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;col&#39;</span><span style=color:#111>))</span>
<span style=color:#111>colorNodes</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
<span style=color:#00a8c8>for</span> <span style=color:#111>noeud</span> <span style=color:#f92672>in</span> <span style=color:#111>liste</span><span style=color:#111>:</span>
    <span style=color:#111>colorNodes</span><span style=color:#111>[</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]]</span><span style=color:#f92672>=</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
<span style=color:#111>colorNodes</span></code></pre></div><pre><code>{0: 'pink', 1: 'red', 2: 'white', 3: 'white', 4: 'white', 5: 'blue'}
</code></pre><p>Pour les couleurs des noeuds, le format doit être en <strong>liste</strong> (de la taille du nombre de noeuds)</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>colorList</span><span style=color:#f92672>=</span><span style=color:#111>[</span><span style=color:#111>colorNodes</span><span style=color:#111>[</span><span style=color:#111>node</span><span style=color:#111>]</span> <span style=color:#00a8c8>for</span> <span style=color:#111>node</span> <span style=color:#f92672>in</span> <span style=color:#111>colorNodes</span><span style=color:#111>]</span>
<span style=color:#111>colorList</span></code></pre></div><pre><code>['pink', 'red', 'white', 'white', 'white', 'blue']
</code></pre><h3 id=etiquettes-de-noeuds>etiquettes de noeuds</h3><p>Pour les étiquettes de noeuds, le format doit être un <strong>dictionnaire</strong>.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>liste</span> <span style=color:#f92672>=</span> <span style=color:#111>list</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>nodes</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;label&#39;</span><span style=color:#111>))</span>
<span style=color:#111>labels_nodes</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
<span style=color:#00a8c8>for</span> <span style=color:#111>noeud</span> <span style=color:#f92672>in</span> <span style=color:#111>liste</span><span style=color:#111>:</span>
    <span style=color:#111>labels_nodes</span><span style=color:#111>[</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]]</span><span style=color:#f92672>=</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
<span style=color:#111>labels_nodes</span></code></pre></div><pre><code>{0: 'A', 1: 'B', 2: 'C', 3: 'D', 4: 'E', 5: 'F'}
</code></pre><p>ou bien :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>labels</span><span style=color:#f92672>=</span><span style=color:#111>{</span><span style=color:#111>node</span><span style=color:#111>:</span><span style=color:#111>label</span> <span style=color:#00a8c8>for</span> <span style=color:#111>node</span><span style=color:#111>,</span><span style=color:#111>label</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>nodes</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;label&#39;</span><span style=color:#111>)}</span>
<span style=color:#111>labels</span></code></pre></div><pre><code>{0: 'A', 1: 'B', 2: 'C', 3: 'D', 4: 'E', 5: 'F'}
</code></pre><h3 id=labels-des-arêtes>labels des arêtes</h3><p>format : dictionnaire.</p><p>Utile pour les applications de type algorithme de Dijkstra.</p><p>Dans les autres cas, on pourra remplir la liste avec des guillemets : <code>labels_edges = {edge:'' for edge in G.edges}</code></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>labels_edges</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
<span style=color:#111>labels_edges</span> <span style=color:#f92672>=</span> <span style=color:#111>{</span><span style=color:#111>edge</span><span style=color:#111>:</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>[</span><span style=color:#111>edge</span><span style=color:#111>][</span><span style=color:#d88200>&#39;weight&#39;</span><span style=color:#111>]</span> <span style=color:#00a8c8>for</span> <span style=color:#111>edge</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>}</span>
<span style=color:#75715e>#labels_edges = {edge:&#39;&#39; for edge in G.edges}</span>
<span style=color:#111>labels_edges</span></code></pre></div><pre><code>{(0, 1): 6,
 (0, 2): 5,
 (0, 4): 1,
 (1, 4): 5,
 (2, 4): 1,
 (2, 3): 8,
 (3, 4): 3,
 (3, 5): 9,
 (4, 5): 6}
</code></pre><h3 id=style-du-trait-de-l-arête>style du trait de l&rsquo;arête</h3><p>format : liste</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>liste</span> <span style=color:#f92672>=</span> <span style=color:#111>list</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;styl&#39;</span><span style=color:#111>))</span>
<span style=color:#111>edges_style</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
<span style=color:#111>edges_style</span> <span style=color:#f92672>=</span> <span style=color:#111>{</span><span style=color:#111>edge</span><span style=color:#111>:</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>[</span><span style=color:#111>edge</span><span style=color:#111>][</span><span style=color:#d88200>&#39;styl&#39;</span><span style=color:#111>]</span> <span style=color:#00a8c8>for</span> <span style=color:#111>edge</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>}</span>
<span style=color:#111>edges_style</span></code></pre></div><pre><code>{(0, 1): 'dashed',
 (0, 2): 'solid',
 (0, 4): 'solid',
 (1, 4): 'solid',
 (2, 4): 'solid',
 (2, 3): 'solid',
 (3, 4): 'solid',
 (3, 5): 'solid',
 (4, 5): 'dashed'}
</code></pre><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>edg_style</span> <span style=color:#f92672>=</span> <span style=color:#111>[</span><span style=color:#111>edges_style</span><span style=color:#111>[</span><span style=color:#111>node</span><span style=color:#111>]</span> <span style=color:#00a8c8>for</span> <span style=color:#111>node</span> <span style=color:#f92672>in</span> <span style=color:#111>edges_style</span><span style=color:#111>]</span>
<span style=color:#111>edg_style</span></code></pre></div><pre><code>['dashed',
 'solid',
 'solid',
 'solid',
 'solid',
 'solid',
 'solid',
 'solid',
 'dashed']
</code></pre><h3 id=tracé-du-graphe>Tracé du graphe</h3><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># positions for all nodes</span>
<span style=color:#111>pos</span> <span style=color:#f92672>=</span> <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>spring_layout</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>)</span>  

<span style=color:#75715e># nodes</span>
<span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_nodes</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span> <span style=color:#111>node_size</span><span style=color:#f92672>=</span><span style=color:#ae81ff>700</span><span style=color:#111>,</span><span style=color:#111>node_color</span><span style=color:#f92672>=</span><span style=color:#111>colorList</span><span style=color:#111>,</span><span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.9</span><span style=color:#111>)</span>
               
<span style=color:#75715e># labels</span>
<span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_labels</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span> <span style=color:#111>labels</span><span style=color:#f92672>=</span><span style=color:#111>labels_nodes</span><span style=color:#111>,</span> \
                        <span style=color:#111>with_labels</span><span style=color:#f92672>=</span><span style=color:#111>True</span><span style=color:#111>,</span><span style=color:#111>font_size</span><span style=color:#f92672>=</span><span style=color:#ae81ff>20</span><span style=color:#111>,</span> \
                        <span style=color:#111>font_color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;black&#39;</span><span style=color:#111>,</span> \
                        <span style=color:#111>font_family</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;sans-serif&#39;</span><span style=color:#111>)</span>

<span style=color:#75715e># edges</span>
<span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_edges</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>)</span>
<span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_edge_labels</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#111>edge_labels</span><span style=color:#f92672>=</span><span style=color:#111>labels_edges</span><span style=color:#111>,</span> <span style=color:#111>style</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;dashed&#39;</span><span style=color:#111>,</span> <span style=color:#111>font_color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;red&#39;</span><span style=color:#111>)</span>



<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>axis</span><span style=color:#111>(</span><span style=color:#d88200>&#39;off&#39;</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>savefig</span><span style=color:#111>(</span><span style=color:#d88200>&#39;datas/fig1.png&#39;</span><span style=color:#111>)</span>
<span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>show</span><span style=color:#111>()</span></code></pre></div><p><img src=../images/output_21_0.png alt=png></p><h1 id=utilisation-d-une-fonction-multitracés>Utilisation d&rsquo;une fonction multitracés</h1><h2 id=fonction-multigraphes>fonction multigraphes</h2><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00a8c8>def</span> <span style=color:#75af00>multigraphe</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span><span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#111>name</span><span style=color:#111>,</span><span style=color:#111>edg</span><span style=color:#f92672>=</span><span style=color:#111>True</span><span style=color:#111>,</span><span style=color:#111>dashed</span><span style=color:#f92672>=</span><span style=color:#111>False</span><span style=color:#111>):</span>
    <span style=color:#d88200>&#34;&#34;&#34;
</span><span style=color:#d88200>    tracé d&#39;un graphe G à partir des options obligatoires : 
</span><span style=color:#d88200>    label et col pour G.nodes : 
</span><span style=color:#d88200>    G.add_node(0,label=&#39;A&#39;,col=&#39;pink&#39;)
</span><span style=color:#d88200>    weight et styl pour G.edges :
</span><span style=color:#d88200>    G.add_edge(0,1,weight=6,styl=&#39;dashed&#39;)
</span><span style=color:#d88200>    
</span><span style=color:#d88200>    Params :
</span><span style=color:#d88200>    --------
</span><span style=color:#d88200>    G : graphe
</span><span style=color:#d88200>    
</span><span style=color:#d88200>    pos : un dictionnaire qui contient les positions des différents noeuds
</span><span style=color:#d88200>    obtenu à partir de : pos = nx.spring_layout(G)
</span><span style=color:#d88200>          
</span><span style=color:#d88200>    name : chaine de caractères finissant par l&#39;extension .png par ex monfichier.png
</span><span style=color:#d88200>    
</span><span style=color:#d88200>    edg : option pour affichage des etiquettes sur les aretes
</span><span style=color:#d88200>    par defaut edg vaut &#39;True&#39; et l&#39;etiquette EST affichée (&#39;False&#39; sinon)
</span><span style=color:#d88200>    
</span><span style=color:#d88200>    dashed : option pour tracer un graphe en solid + en pointillé avec l&#39;option styl de G.edges
</span><span style=color:#d88200>    &#34;&#34;&#34;</span>
    <span style=color:#75715e># liste de couleurs pour les noeuds</span>
    <span style=color:#111>liste</span> <span style=color:#f92672>=</span> <span style=color:#111>list</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>nodes</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;col&#39;</span><span style=color:#111>))</span>
    <span style=color:#111>colorNodes</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
    <span style=color:#00a8c8>for</span> <span style=color:#111>noeud</span> <span style=color:#f92672>in</span> <span style=color:#111>liste</span><span style=color:#111>:</span>
        <span style=color:#111>colorNodes</span><span style=color:#111>[</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]]</span><span style=color:#f92672>=</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
    <span style=color:#111>colorList</span><span style=color:#f92672>=</span><span style=color:#111>[</span><span style=color:#111>colorNodes</span><span style=color:#111>[</span><span style=color:#111>node</span><span style=color:#111>]</span> <span style=color:#00a8c8>for</span> <span style=color:#111>node</span> <span style=color:#f92672>in</span> <span style=color:#111>colorNodes</span><span style=color:#111>]</span>
    <span style=color:#75715e># Dict d&#39;etiquette des noeuds</span>
    <span style=color:#111>liste</span> <span style=color:#f92672>=</span> <span style=color:#111>list</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>nodes</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;label&#39;</span><span style=color:#111>))</span>
    <span style=color:#111>labels_nodes</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
    <span style=color:#00a8c8>for</span> <span style=color:#111>noeud</span> <span style=color:#f92672>in</span> <span style=color:#111>liste</span><span style=color:#111>:</span>
        <span style=color:#111>labels_nodes</span><span style=color:#111>[</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]]</span><span style=color:#f92672>=</span><span style=color:#111>noeud</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span>
    <span style=color:#75715e># Dict d&#39;etiquette des aretes</span>
    <span style=color:#111>labels_edges</span> <span style=color:#f92672>=</span> <span style=color:#111>{}</span>
    
    <span style=color:#00a8c8>if</span> <span style=color:#111>edg</span> <span style=color:#111>:</span> 
        <span style=color:#111>labels_edges</span> <span style=color:#f92672>=</span> <span style=color:#111>{</span><span style=color:#111>edge</span><span style=color:#111>:</span><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>[</span><span style=color:#111>edge</span><span style=color:#111>][</span><span style=color:#d88200>&#39;weight&#39;</span><span style=color:#111>]</span> <span style=color:#00a8c8>for</span> <span style=color:#111>edge</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>}</span>
    <span style=color:#00a8c8>else</span> <span style=color:#111>:</span>
        <span style=color:#111>labels_edges</span> <span style=color:#f92672>=</span> <span style=color:#111>{</span><span style=color:#111>edge</span><span style=color:#111>:</span><span style=color:#d88200>&#39;&#39;</span> <span style=color:#00a8c8>for</span> <span style=color:#111>edge</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>}</span>
    
    <span style=color:#75715e># Division en 2 des aretes : solid et dashed</span>
    <span style=color:#111>elarge</span> <span style=color:#f92672>=</span> <span style=color:#111>[(</span><span style=color:#111>u</span><span style=color:#111>,</span> <span style=color:#111>v</span><span style=color:#111>)</span> <span style=color:#00a8c8>for</span> <span style=color:#111>(</span><span style=color:#111>u</span><span style=color:#111>,</span> <span style=color:#111>v</span><span style=color:#111>,</span> <span style=color:#111>w</span><span style=color:#111>)</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#111>True</span><span style=color:#111>)</span> <span style=color:#00a8c8>if</span> <span style=color:#111>w</span><span style=color:#111>[</span><span style=color:#d88200>&#39;styl&#39;</span><span style=color:#111>]</span> <span style=color:#f92672>==</span> <span style=color:#d88200>&#39;solid&#39;</span><span style=color:#111>]</span>
    <span style=color:#111>esmall</span> <span style=color:#f92672>=</span> <span style=color:#111>[(</span><span style=color:#111>u</span><span style=color:#111>,</span> <span style=color:#111>v</span><span style=color:#111>)</span> <span style=color:#00a8c8>for</span> <span style=color:#111>(</span><span style=color:#111>u</span><span style=color:#111>,</span> <span style=color:#111>v</span><span style=color:#111>,</span> <span style=color:#111>w</span><span style=color:#111>)</span> <span style=color:#f92672>in</span> <span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>edges</span><span style=color:#111>(</span><span style=color:#111>data</span><span style=color:#f92672>=</span><span style=color:#111>True</span><span style=color:#111>)</span> <span style=color:#00a8c8>if</span> <span style=color:#111>w</span><span style=color:#111>[</span><span style=color:#d88200>&#39;styl&#39;</span><span style=color:#111>]</span> <span style=color:#f92672>==</span> <span style=color:#d88200>&#39;dashed&#39;</span><span style=color:#111>]</span>
    
    <span style=color:#75715e># positions for all nodes : </span>
    <span style=color:#75715e># à mettre en parametre pour que chaque graphe ait la même disposition</span>
    <span style=color:#75715e># pos = nx.spring_layout(G)  </span>

    <span style=color:#75715e># nodes</span>
    <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_nodes</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span> <span style=color:#111>node_size</span><span style=color:#f92672>=</span><span style=color:#ae81ff>700</span><span style=color:#111>,</span><span style=color:#111>node_color</span><span style=color:#f92672>=</span><span style=color:#111>colorList</span><span style=color:#111>,</span><span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.9</span><span style=color:#111>)</span>
               
    <span style=color:#75715e># labels</span>
    <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_labels</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span> <span style=color:#111>labels</span><span style=color:#f92672>=</span><span style=color:#111>labels_nodes</span><span style=color:#111>,</span> \
                        <span style=color:#111>with_labels</span><span style=color:#f92672>=</span><span style=color:#111>True</span><span style=color:#111>,</span><span style=color:#111>font_size</span><span style=color:#f92672>=</span><span style=color:#ae81ff>20</span><span style=color:#111>,</span> \
                        <span style=color:#111>font_color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;black&#39;</span><span style=color:#111>,</span> \
                        <span style=color:#111>font_family</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;sans-serif&#39;</span><span style=color:#111>)</span>

    <span style=color:#75715e># edges</span>
    <span style=color:#00a8c8>if</span> <span style=color:#111>dashed</span><span style=color:#111>:</span>
        <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_edges</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span> <span style=color:#111>edgelist</span><span style=color:#f92672>=</span><span style=color:#111>elarge</span><span style=color:#111>,</span><span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>3</span><span style=color:#111>)</span>
        <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_edges</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span> <span style=color:#111>edgelist</span><span style=color:#f92672>=</span><span style=color:#111>esmall</span><span style=color:#111>,</span><span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>3</span><span style=color:#111>,</span> <span style=color:#111>alpha</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.5</span><span style=color:#111>,</span> <span style=color:#111>edge_color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;b&#39;</span><span style=color:#111>,</span> <span style=color:#111>style</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;dashed&#39;</span><span style=color:#111>)</span>
        
    <span style=color:#00a8c8>else</span> <span style=color:#111>:</span>
        <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_edges</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>)</span>
        <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>draw_networkx_edge_labels</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span> <span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#111>width</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#111>edge_labels</span><span style=color:#f92672>=</span><span style=color:#111>labels_edges</span><span style=color:#111>,</span> <span style=color:#111>font_color</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;red&#39;</span><span style=color:#111>)</span>

    <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>axis</span><span style=color:#111>(</span><span style=color:#d88200>&#39;off&#39;</span><span style=color:#111>)</span>
    <span style=color:#111>fichier</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;datas/&#39;</span><span style=color:#f92672>+</span> <span style=color:#111>name</span>
    <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>savefig</span><span style=color:#111>(</span><span style=color:#111>fichier</span><span style=color:#111>)</span>
    <span style=color:#111>plt</span><span style=color:#f92672>.</span><span style=color:#111>show</span><span style=color:#111>()</span></code></pre></div><h2 id=exemples>Exemples</h2><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>pos</span> <span style=color:#f92672>=</span> <span style=color:#111>nx</span><span style=color:#f92672>.</span><span style=color:#111>spring_layout</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>)</span>
<span style=color:#111>pos</span></code></pre></div><pre><code>{0: array([ 0.27974646, -0.89916229]),
 1: array([ 0.92773482, -0.4219083 ]),
 2: array([-0.56455338, -0.41641877]),
 3: array([-0.64887674,  0.39760485]),
 4: array([0.2899486 , 0.33988451]),
 5: array([-0.28399977,  1.        ])}
</code></pre><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>multigraphe</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span><span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#d88200>&#39;fig1.png&#39;</span><span style=color:#111>)</span></code></pre></div><p><img src=../images/output_21_0.png alt=png></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>multigraphe</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span><span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#d88200>&#39;fig2.png&#39;</span><span style=color:#111>,</span><span style=color:#111>False</span><span style=color:#111>)</span></code></pre></div><p><img src=../images/output_22_0.png alt=png></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>multigraphe</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span><span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#d88200>&#39;fig3.png&#39;</span><span style=color:#111>,</span><span style=color:#111>False</span><span style=color:#111>,</span><span style=color:#111>True</span><span style=color:#111>)</span></code></pre></div><p><img src=../images/output_23_0.png alt=png></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>G</span><span style=color:#f92672>.</span><span style=color:#111>add_node</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>label</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;B&#39;</span><span style=color:#111>,</span><span style=color:#111>col</span><span style=color:#f92672>=</span><span style=color:#d88200>&#39;blue&#39;</span><span style=color:#111>)</span>
<span style=color:#111>multigraphe</span><span style=color:#111>(</span><span style=color:#111>G</span><span style=color:#111>,</span><span style=color:#111>pos</span><span style=color:#111>,</span><span style=color:#d88200>&#39;fig3.png&#39;</span><span style=color:#111>,</span><span style=color:#111>False</span><span style=color:#111>,</span><span style=color:#111>True</span><span style=color:#111>)</span></code></pre></div><p><img src=../images/output_24_0.png alt=png></p></article><div style=height:100px></div></div></main><div class=site_footer><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt="Licence Creative Commons" style=border-width:0 src=/creative.png></a>
<span xmlns:dct=http://purl.org/dc/terms/ property=dct:title>Sciences numeriques</span> de <a xmlns:cc=http://creativecommons.org/ns# href property=cc:attributionName rel=cc:attributionurl>numerix.netlify.com</a> est mis à disposition selon les termes de la <a rel=license href=http://creativecommons.org/licenses/by/4.0/>licence Creative Commons Attribution 4.0 International</a></div></body></html>