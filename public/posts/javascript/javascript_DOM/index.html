<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Javascript le DOM
| Sciences numériques</title><link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel=stylesheet><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167114468-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-167114468-1');</script><link rel=stylesheet href=/book.min.32802dced2d04a5a7553a22b5967b5f4538a6110e52a9b615a3ed5ee836e87c1.css><link rel=icon href=/favicon.png type=image/x-icon><div class=my-header-container><div class=my-site-header><img src=/logo-site-b.svg width="150 px"></div><div id=myHeader><div class=titre><h2><a href=/>Sciences numériques</a></h2></div></div></div><script async>window.onload=function(){let container=document.getElementsByClassName("book-page");let logodiv=document.getElementsByClassName("site-menu-before");let header=document.getElementById("myHeader");let screen=window.innerWidth;let site_footer=document.querySelector(".site_footer");try{let site_TOC=document.querySelector("#TableOfContents>ul");let newP=document.createElement('li');newP.textContent='Contenu de la page';site_TOC.appendChild(newP,null);}
catch(err)
{console.log(err.message);}
if(site_footer.parentNode!=document.body){let father=site_footer.parentNode;let clone=site_footer.cloneNode;father.removeChild(site_footer);document.body.appendChild(clone);}
if(screen<=850){document.getElementsByClassName("my-site-header")[0].style.display="none";}else{window.addEventListener("scroll",function(e){let spectral=document.getElementById("spectral");if(screen>850){if(window.pageYOffset>150){header.classList.add("sticky");if(container.lenght>0){container[0].style.marginTop="65px";};logodiv[0].style.height="120px";}else{header.classList.remove("sticky");if(container.lenght>0){container[0].style.marginTop="0px";};spectral.style.display="none";logodiv[0].style.height="220px";}}
if(screen<=850){if(window.pageYOffset>150){spectral.style.display="block";}else{spectral.style.display="none";}}});}}
let chemin=window.location.pathname;if(chemin.search('NSI')>-1){baniere=document.querySelector("#myHeader");let linkBox=document.createElement('div');linkBox.classList.add('linkBox');let newH=document.createElement('a');newH.innerHTML='<a href="/docs/NSI/NSI_index/index.html">NSI</a>';newH.classList.add('nsi');linkBox.appendChild(newH);baniere.appendChild(linkBox);}</script><style>#myHeader{display:flex;flex-direction:row-reverse}#myHeader>.titre{width:80%;min-width:300px;text-align:left}.linkBox{margin:10px;padding-top:10px;background-color:pink;min-width:50px}.isn{}</style></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav role=navigation><div class=site-menu-before style=height:220px;display:block><img src=/logo-site.svg id=spectral height=50% style=display:none></div><style>nav ul a[href$=\2fposts\2fjavascript\2fjavascript_DOM\2f ]{color:#004ed0}</style><ul><li><a href=/><strong>Accueil</strong></a></li><li><a href=/docs/esf/esf_index/><strong>ESF</strong></a></li><li><p><a href=/docs/SNT_2nde/SNT_index/><strong>SNT secondes</strong></a></p></li><li><p><a href=/docs/NSI/NSI_index/><strong>NSI</strong></a></p></li><li><p><a href=/docs/python/index_python/><strong>Python</strong></a></p></li><li><p><a href=/docs/PC_2nde/PC_index/><strong>Physique Chimie 2nde</strong></a></p></li><li><p><a href=/docs/PC_1ere/PC_index/><strong>Physique 1ere Spé</strong></a></p></li><li><p><a href=/posts/><strong>Posts</strong></a></p></li><li><p><a href=/docs/contact/simple-contact-form/><strong>Contact</strong></a></p></li></ul></nav><script>(function(){var menu=document.querySelector('aside.book-menu nav')
addEventListener('beforeunload',function(event){localStorage.setItem('menu.scrollTop',menu.scrollTop)});menu.scrollTop=localStorage.getItem('menu.scrollTop')})()</script></aside><div class=book-posts><header class="align-center justify-between book-header"><label for=menu-control><img src=/svg/menu.svg alt=Menu></label>
<strong>Javascript le DOM</strong></header><header class=markdown><h1>Javascript le DOM</h1><h5><strong>Sept 1, 1019</strong></h5></header><article class=markdown><h1 id=le-dom>Le DOM</h1><p>le DOM ou Document Object Model, une interface qui fait partie du BOM (Browser Object Model) et grâce à laquelle nous allons pouvoir manipuler le contenu HTML et les styles de nos pages.</p><p>Le DOM est ainsi une représentation structurée du document sous forme « d’arbre » crée automatiquement par le navigateur, à partir de sa lecture du document HTML.</p><p>Chaque branche de cet arbre se termine par ce qu’on appelle un nœud, contenant les éléments HTML. On va finalement pouvoir utiliser ces objets, leurs propriétés et leurs méthodes en JavaScript.</p><p>Le DOM fournit le squelette du document</p><p>Inspecter le DOM se fait avec le navigateur</p><figure><img src=../images/browserDOM.png width=80% alt="inspecter le DOM"><figcaption>inspecter le DOM dans le navigateur</figcaption></figure><p>C&rsquo;est en particulier l’interface <code>Document</code> que nous allons utiliser pour parcourir le DOM : Toute opération sur le DOM commence avec l’objet document :</p><figure><img src=../images/arbreDOM.png width=80% alt="arbre du DOM"><figcaption>arbre du DOM</figcaption></figure><p>Trois noeuds du DOM sont disponibles directement comme des propriétés de l’objet DOM :</p><ul><li>document.documentElement</li><li>document.body</li><li>document.head</li></ul><p>On verra plus loin les méthodes de parcours de l&rsquo;arbre du DOM (## parcourir l&rsquo;arbre du DOM).</p><h1 id=manipuler-les-éléments-de-la-page>Manipuler les éléments de la page</h1><h2 id=accéder-à-un-élément-à-l-aide-d-un-sélecteur>accéder à un élément à l&rsquo;aide d&rsquo;un sélecteur</h2><p>Pour manipuler les éléments d&rsquo;une page affichée dans le navigateur, on doit <em>accéder</em> à cet élément.</p><p>Or, il n&rsquo;y a pas de lien direct entre html et javascript :
En Javascript, on peut récupérer une instance de HTMLElement correspondant à un élément de la page.</p><p>Cela peut se faire à l&rsquo;aide des <em>ancres</em> laissées sur ces éléments. On peut les sélectionner, comme en CSS avec leur classe, leur ID ou le nom de la balise. Pour réaliser ceci, on utilise les fonctions suivantes:</p><ul><li><code>document.getElementById()</code> permet de sélectionner un élément html à partir de son id.</li><li><code>document.querySelector()</code> un sélecteur plus générique qui sélectionne les éléments à la manière des sélecteurs css.</li></ul><h3 id=un-premier-exemple-afficher-du-texte>Un premier exemple : afficher du texte</h3><p>lorsque l’on souhaite injecter du texte dans un paragraphe dont l&rsquo;attribut <code>id=&quot;ancre&quot;</code>, un élément que l&rsquo;on aura défini dans la partie <code>html</code> du code avec :</p><p><code>&lt;p id = &quot;ancre&quot;&gt;&lt;/p&gt;</code></p><p>on utilisera dans la partie javascript:</p><p><code>document.getElementById('ancre').innerHTML = &quot;nouveau texte à afficher&quot;</code>.</p><h3 id=exemple-2-modifier-l-attribut-style-de-l-élément>Exemple 2 : modifier l&rsquo;attribut style de l&rsquo;élément</h3><p>soit un élement avec attribut id=&lsquo;elem&rsquo; de la page :
On cherche à atteindre cet élément et en modifier la couleur :</p><p><em>(écrire le code suivant dans un fichier que vous nommerez <code>exemple1.html</code>)</em></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html-css data-lang=html-css>&lt;body&gt;
  &lt;h1 id=&#34;elem&#34;&gt;Un titre qui n&#39;a pas de couleur&lt;/h1&gt;
&lt;script&gt;
let elem = document.getElementById(&#39;elem&#39;);
elem.style.background = &#39;red&#39;;
&lt;/script&gt;
&lt;/body&gt;</code></pre></div><p>On met cet élément dans une variable <code>elem</code>. Puis on peut modifier ses attributs, comme par exemple celui <code>style</code> pour la couleur.</p><p>Ouvrir le fichier avec un navigateur. La couleur du titre devrait apparaitre &hellip; en rouge !</p><h3 id=exemple-3-utilisation-de-queryselector>Exemple 3 : utilisation de querySelector</h3><p>Cette méthode associée à <em>document</em> permet d&rsquo;utiliser les mêmes règles de selection que lorsque l&rsquo;on utilise le CSS. On peut donc utiliser comme paramètre : le nom de la balise &lsquo;p&rsquo;, la classe de l&rsquo;élément &lsquo;.maclasse&rsquo;, l&rsquo;identifiant &lsquo;#elem&rsquo;, &hellip;</p><p>voir la <a href=https://www.w3schools.com/jsref/met_document_queryselector.asp>page consacrée sur w3schools</a></p><h2 id=parcourir-l-arbre-du-dom>parcourir l&rsquo;arbre du DOM</h2><p>La propriété <code>childNodes</code> de l&rsquo;interface <code>Node</code> renvoie une liste sous forme de tableau des nœuds enfants de l’élément donné. Le premier nœud enfant reçoit l’indice 0 comme pour tout tableau.</p><p>Et pour obtenir l&rsquo;élément parent d&rsquo;un noeud, on utilise la propriété <code>parentElement</code>.</p><p><em>Exemple :</em>
Vous pouvez tester cet exemple en enregistrant le code suivant dans un fichier que vous nommerez <code>exemple3.html</code>:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#111>&lt;</span><span style=color:#f92672>body</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
  <span style=color:#111>&lt;</span><span style=color:#f92672>p</span> <span style=color:#75af00>id</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;myP&#34;</span><span style=color:#111>&gt;</span>Un peu de texte, <span style=color:#111>&lt;</span><span style=color:#f92672>a</span><span style=color:#111>&gt;</span>un lien<span style=color:#111>&lt;/</span><span style=color:#f92672>a</span><span style=color:#111>&gt;</span> et <span style=color:#111>&lt;</span><span style=color:#f92672>strong</span><span style=color:#111>&gt;</span>une portion en emphase<span style=color:#111>&lt;/</span><span style=color:#f92672>strong</span><span style=color:#111>&gt;&lt;/</span><span style=color:#f92672>p</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;/</span><span style=color:#f92672>body</span><span style=color:#111>&gt;</span></code></pre></div><p>Ouvrir alors la page pour l&rsquo;afficher dans le navigateur.</p><p>Cette page a alors l&rsquo;arbre de DOM suivant qui lui est associé :</p><figure><img src=../images/dom.png width=80% alt="arbre du DOM"><figcaption>arbre du DOM</figcaption></figure><p>Le premier enfant de <code>&lt;p&gt;</code> est un nœud textuel, alors que le dernier enfant est un élément <code>&lt;strong&gt;</code>. Cet élément <code>&lt;strong&gt;</code> possède pour noeud enfant un noeud textuel dont le contenu et <em>une portion en emphase</em></p><p>Dans la console, saisir une à une les instructions suivantes : (sans les commentaires)</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#f92672>&gt;</span> <span style=color:#00a8c8>let</span> <span style=color:#75af00>paragraph</span> <span style=color:#f92672>=</span> <span style=color:#111>document</span><span style=color:#111>.</span><span style=color:#75af00>getElementById</span><span style=color:#111>(</span><span style=color:#d88200>&#39;myP&#39;</span><span style=color:#111>);</span> <span style=color:#75715e>// pour stocker le noeud parent.
</span><span style=color:#75715e></span><span style=color:#f92672>&gt;</span> <span style=color:#00a8c8>let</span> <span style=color:#75af00>first</span> <span style=color:#f92672>=</span> <span style=color:#75af00>paragraph</span><span style=color:#111>.</span><span style=color:#75af00>firstChild</span><span style=color:#111>;</span> <span style=color:#75715e>// parcours de l&#39;arbre jusqu&#39;au 1er enfant
</span><span style=color:#75715e></span><span style=color:#f92672>&gt;</span> <span style=color:#75af00>alert</span><span style=color:#111>(</span><span style=color:#75af00>first</span><span style=color:#111>.</span><span style=color:#75af00>nodeValue</span><span style=color:#111>);</span> <span style=color:#75715e>// pour récuperer le contenu du noeud textuel
</span></code></pre></div><figure><img src=../images/dom1.png width=600px alt="arbre du DOM"><figcaption>contenu textuel du premier enfant</figcaption></figure><p>Puis :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#f92672>&gt;</span> <span style=color:#00a8c8>let</span> <span style=color:#75af00>last</span> <span style=color:#f92672>=</span> <span style=color:#75af00>paragraph</span><span style=color:#111>.</span><span style=color:#75af00>lastChild</span><span style=color:#111>;</span>
<span style=color:#f92672>&gt;</span> <span style=color:#75af00>alert</span><span style=color:#111>(</span><span style=color:#75af00>last</span><span style=color:#111>.</span><span style=color:#75af00>firstChild</span><span style=color:#111>.</span><span style=color:#75af00>data</span><span style=color:#111>);</span> <span style=color:#75715e>// pour recuperer le contenu textuel de la balise
</span></code></pre></div><figure><img src=../images/dom2.png width=600px alt="arbre du DOM"><figcaption>contenu textuel du dernier enfant</figcaption></figure><p>On peut réaliser cette dernière manipulation en ayant recours à la liste de tous les enfants de <code>paragraph</code>: en écrivant dans la console :</p><p><code>&gt; paragraph.childNodes</code></p><figure><img src=../images/dom3.png width=600px alt="arbre du DOM"><figcaption>liste de tous les enfants du noeud parent</figcaption></figure><p>On peut lire dans la console que le noeud textuel (<code>&lt;strong&gt;Une portion avec emphase&lt;/strong&gt;</code>) est au rang 3 dans la liste des noeuds enfants (<code>childNodes</code>).</p><p>On affiche alors son contenu textuel : dans la console, écrire :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#f92672>&gt;</span> <span style=color:#00a8c8>let</span> <span style=color:#75af00>last</span> <span style=color:#f92672>=</span> <span style=color:#75af00>paragraph</span><span style=color:#111>.</span><span style=color:#75af00>childNodes</span><span style=color:#111>[</span><span style=color:#ae81ff>3</span><span style=color:#111>]</span>
<span style=color:#f92672>&gt;</span> <span style=color:#75af00>alert</span><span style=color:#111>(</span><span style=color:#75af00>last</span><span style=color:#111>.</span><span style=color:#75af00>firstChild</span><span style=color:#111>.</span><span style=color:#75af00>data</span><span style=color:#111>)</span>
</code></pre></div><figure><img src=../images/dom4.png width=600px alt="arbre du DOM"><figcaption>contenu textuel de last</figcaption></figure><p>Pour finir, on peut modifier à volonté les éléments textuels en modifiant la valeur renvoyée par <code>.data</code> ou <code>.nodeValue</code> :</p><p>Dans la console :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#f92672>&gt;</span> <span style=color:#75af00>last</span><span style=color:#111>.</span><span style=color:#75af00>firstChild</span><span style=color:#111>.</span><span style=color:#75af00>data</span> <span style=color:#f92672>=</span> <span style=color:#d88200>&#39;un autre texte&#39;</span>
</code></pre></div><figure><img src=../images/dom5.png width=600px alt="arbre du DOM"><figcaption>modification du contenu textuel de last</figcaption></figure><h1 id=ajouter-un-paragraphe-dans-la-page>Ajouter un paragraphe dans la page</h1><p>Pour créer un nouvel élément dans la page :</p><ul><li>créer un nouveau noeud an appelant la fonction <code>creatElement</code> associée à <code>document</code></li><li>ajouter la balise textuelle associée à ce noeud s&rsquo;il y en a une</li><li>ajouter eventuellement des attributs à cet élément: <code>setAttribute(attribut,valeur)</code></li><li>ajouter cet élement directement à son noeud parent: <code>appenChild</code></li></ul><p><em>Exemple :</em></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html-css data-lang=html-css>&lt;head&gt;
&lt;meta charset=&#34;utf-8&#34; /&gt;
&lt;script&gt;
      var x = 10;

      /*
      Affiche la valeur de la variable x. Puis incrémente de 1 la valeur de la variable x
       */
      function addXToThePage() {
        let newP = document.createElement(&#39;p&#39;);
        newP.innerHTML = &#34;&lt;p&gt;La valeur de x = &#34; + x + &#34;&lt;/p&gt;&#34;;
        newP.setAttribute(&#39;style&#39;, &#39;color : red;&#39;);
        document.getElementById(&#34;newPar&#34;).appendChild(newP);
        x = x + 1;
      }
    &lt;/script&gt;
  &lt;/head&gt;
&lt;body&gt;
    &lt;button onclick=&#34;addXToThePage();&#34;&gt;
      Clique ici pour afficher la valeur de la variable x
    &lt;/button&gt;
    &lt;div id=&#34;newPar&#34;&gt;&lt;/div&gt;
&lt;/body&gt;</code></pre></div><p><em>Résultat : (cliquer sur le bouton pour tester le programme)</em></p><p><button onclick=addXToThePage();>
Clique ici pour afficher la valeur de la variable x</button><div id=newPar></div></p><script>var x=10;function addXToThePage(){let newP=document.createElement('p');newP.innerHTML="<p>La valeur de x = "+x+"</p>";newP.setAttribute('style','color : red;');document.getElementById("newPar").appendChild(newP);x=x+1;}
function buildTable(){let prenom=document.getElementById("prenom").value;let nom=document.getElementById("nom").value;let email=document.getElementById("email").value;let contenu=document.querySelector('.client1>.first');contenu.textContent=prenom;}</script><h1 id=lire-et-modifier-un-tableau>Lire et modifier un tableau</h1><p>Le programme suivant montre l&rsquo;utilisation d&rsquo;un formulaire. Lors du clic sur le bouton, on accède aux valeurs des champs du formulaire avec la propriété <code>.value</code> associée à l&rsquo;élément du formulaire.</p><p>On recopie alors chacune des colonnes du tableau avec ces valeurs.</p><p>Pour accéder à chaque élément de la page, on utilise les règles de selection vues plus haut, avec <code>document.getElementById</code> et <code>document.querySelector</code>.</p><p>L&rsquo;exemple présenté ici est incomplet et ne renvoie dans le tableau que le champ <code>prenom</code>. Il faudra completer le script pour renvoyer aussi les noms et email.</p><table><thead><tr><th>Prénom</th><th>Nom</th><th>email</th></tr></thead><tbody><tr class=client1><td class=first></td><td class=last></td><td class=mail></td></tr></tbody></table><form><fieldset><legend>Nom complet</legend><ol><li><label for=prenom>Saisir le prénom</label>
<input id=prenom type=textarea name=prenom placeholder=prenom></li><li><label for=nom>Saisir le nom</label>
<input id=nom type=textarea name=nom placeholder=nom></li><li><label for=email>E-mail</label>
<input id=email type=email name=email placeholder=exemple@domaine.com required></li></ol></fieldset></form><p><button onclick=buildTable();> Soumettre</button></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html-css data-lang=html-css>&lt;body&gt;
&lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;Prénom&lt;/th&gt;
          &lt;th&gt;Nom&lt;/th&gt;
          &lt;th&gt;email&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr class=&#34;client1&#34;&gt;
          &lt;td class=&#34;first&#34;&gt;&lt;/td&gt;&lt;td class=&#34;last&#34;&gt;&lt;/td&gt;&lt;td class=&#34;mail&#34;&gt;&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
&lt;/table&gt;
    
&lt;form&gt;
      &lt;fieldset&gt;
        &lt;legend&gt;Nom complet&lt;/legend&gt;
        &lt;ol&gt;
          &lt;li&gt;
            &lt;label for=&#34;prenom&#34;&gt;Saisir le prénom&lt;/label&gt;
            &lt;input id=&#34;prenom&#34;  type=&#34;textarea&#34; name=&#34;prenom&#34; placeholder=&#34;prenom&#34;/&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;label for=&#34;nom&#34;&gt;Saisir le nom&lt;/label&gt;
            &lt;input id=&#34;nom&#34; type=&#34;textarea&#34; name=&#34;nom&#34; placeholder=&#34;nom&#34; /&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;label for=&#34;email&#34;&gt;E-mail&lt;/label&gt;
            &lt;input
              id=&#34;email&#34;
              type=&#34;email&#34;
              name=&#34;email&#34;
              placeholder=&#34;exemple@domaine.com&#34;
              required
            /&gt;
          &lt;/li&gt;
        &lt;/ol&gt;
      &lt;/fieldset&gt;
&lt;/form&gt; 
 
&lt;button onclick=&#34;buildTable();&#34;&gt;  Soumettre &lt;/button&gt;
&lt;script&gt;
      function buildTable(){
          let prenom = document.getElementById(&#34;prenom&#34;).value;
          let nom = document.getElementById(&#34;nom&#34;).value;
          let email = document.getElementById(&#34;email&#34;).value;

          // champ prenom
          let contenu =document.querySelector(&#39;.client1&gt;.first&#39;);
          contenu.textContent=prenom;
      
          // champ nom
        
          // champ email
      }
&lt;/script&gt;
&lt;/body&gt;</code></pre></div><h1 id=concevoir-une-page-avec-tableau-en-100-javascript>concevoir une page avec tableau en 100% javascript</h1><p>Dans l&rsquo;exemple suivant, on va voir la création d&rsquo;un tableau d&rsquo;une seule rangée, mais avec de nombreuses cellules. On va donc utiliser une boucle bornée, pour sa création, mais aussi pour relever les valeurs.</p><p>Une table en HTML est réalisée à partir d&rsquo;éléments qui ont la hierarchie suivante :</p><p>L&rsquo;élément <em>form</em> est parent d&rsquo;un élément <em>table</em>, lui même parent de <em>tbody</em>, parent de <em>tr</em> (le ou les rangs) qui possède, lui plusieurs enfant <em>td</em>, un par cellule :</p><figure><img src=../images/DOM-tab.png width=60% alt="arbre du DOM"><figcaption>arbre du DOM pour le tableau</figcaption></figure><p>On commence par selectionner le noeud de l&rsquo;élément <em>form</em> :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#00a8c8>let</span> <span style=color:#75af00>form</span> <span style=color:#f92672>=</span> <span style=color:#111>document</span><span style=color:#111>.</span><span style=color:#75af00>getElementsByTagName</span><span style=color:#111>(</span><span style=color:#d88200>&#34;form&#34;</span><span style=color:#111>)[</span><span style=color:#ae81ff>0</span><span style=color:#111>];</span>
</code></pre></div><p>Au début du script on créé les différents noeuds pour ces éléments. Par exemple :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#00a8c8>let</span> <span style=color:#75af00>tbl</span> <span style=color:#f92672>=</span> <span style=color:#111>document</span><span style=color:#111>.</span><span style=color:#75af00>createElement</span><span style=color:#111>(</span><span style=color:#d88200>&#34;table&#34;</span><span style=color:#111>);</span>
</code></pre></div><p>On créé un noeud pour l&rsquo;élément <code>input</code> qui sera mis dans chaque cellule. Ce noeud est affecté à la variable <em>cellText</em>.</p><p>On créé les attributs de cet élément. On utilise la méthode <code>setAttribute(attribut,valeur)</code> :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#75af00>cellText</span><span style=color:#111>.</span><span style=color:#75af00>setAttribute</span><span style=color:#111>(</span><span style=color:#d88200>&#34;type&#34;</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;text&#34;</span><span style=color:#111>);</span>
</code></pre></div><p>On ajoute alors le noeud au DOM avec :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript> <span style=color:#111>document</span><span style=color:#111>.</span><span style=color:#75af00>body</span><span style=color:#111>.</span><span style=color:#75af00>appendChild</span><span style=color:#111>(</span><span style=color:#75af00>cellText</span><span style=color:#111>);</span>
</code></pre></div><p>L&rsquo;élément créé est alors : <code>&lt;input type=&quot;text&quot;&gt;</code></p><p>Pour chaque cellule <code>td</code> du tableau, on ajoute l&rsquo;élément <code>input</code> :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#75af00>cell</span><span style=color:#111>.</span><span style=color:#75af00>appendChild</span><span style=color:#111>(</span><span style=color:#75af00>cellText</span><span style=color:#111>);</span>
</code></pre></div><p>Puis on ajoute l&rsquo;élément <em>td</em> au noeud <em>tr</em> :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#75af00>row</span><span style=color:#111>.</span><span style=color:#75af00>appendChild</span><span style=color:#111>(</span><span style=color:#75af00>cell</span><span style=color:#111>);</span>
</code></pre></div><p>Puis l&rsquo;élément <em>tr</em> à <em>tbody</em>, lui même à <em>table</em>, et <em>table</em> à <em>form</em>.</p><figure><img src=../images/dom-console.png width=40% alt="arbre du DOM"><figcaption>inspecteur web : console</figcaption></figure><p><p class=codepen data-height=265 data-theme-id=dark data-default-tab=js,result data-user=tix06 data-slug-hash=PoPVgEq style="height:265px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em" data-pen-title="DOM tableau"><span>See the Pen <a href=https://codepen.io/tix06/pen/PoPVgEq>DOM tableau</a> by tixidor (<a href=https://codepen.io/tix06>@tix06</a>)
on <a href=https://codepen.io>CodePen</a>.</span></p><script async src=https://static.codepen.io/assets/embed/ei.js></script></p><h1 id=liens>Liens</h1><ul><li>introduction au DOM W3school : <a href=https://www.w3schools.com/js/js_htmldom_methods.asp>https://www.w3schools.com/js/js_htmldom_methods.asp</a></li><li>DOM et javascript : <a href=https://developer.mozilla.org/fr/docs/Web/API/Document_Object_Model/Introduction>https://developer.mozilla.org/fr/docs/Web/API/Document_Object_Model/Introduction</a></li><li>textContent pour écrire du texte dans un élément textuel : <a href=https://developer.mozilla.org/fr/docs/Web/API/Node/textContent>https://developer.mozilla.org/fr/docs/Web/API/Node/textContent</a></li></ul></article><div style=height:100px></div></div></main><div class=site_footer><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt="Licence Creative Commons" style=border-width:0 src=/creative.png></a>
<span xmlns:dct=http://purl.org/dc/terms/ property=dct:title>Sciences numeriques</span> de <a xmlns:cc=http://creativecommons.org/ns# href property=cc:attributionName rel=cc:attributionurl>numerix.netlify.com</a> est mis à disposition selon les termes de la <a rel=license href=http://creativecommons.org/licenses/by/4.0/>licence Creative Commons Attribution 4.0 International</a></div></body></html>