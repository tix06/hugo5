<!DOCTYPE html>




<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  
    
    algorithmes avancés
  
 | Allophysique</title>


<link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet"> 


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-167114468-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-167114468-1');
</script>





<link rel="stylesheet" href="/book.min.757bde8284addd9205931692e0522a4e50ed085e00c44dff802d2fc8255c68ca.css">


<link rel="icon" href="/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  

<div class="my-header-container">
<div class="my-site-header">
	<img src="/logo-site-b.svg" width = "150 px"/>
</div>

<div id="myHeader">
	<div class="titre">
	<h2><a href="/">Allophysique</a></h2>
    </div>
</div>
</div>



<script async>
window.onload = function () {
let container = document.getElementsByClassName("book-page");
let logodiv = document.getElementsByClassName("site-menu-before");
let header = document.getElementById("myHeader");
let screen = window.innerWidth;
let site_footer = document.querySelector(".site_footer");

try {
  
  let site_TOC = document.querySelector("#TableOfContents>ul");
  let newP = document.createElement('li');

  newP.textContent='Contenu de la page';
  site_TOC.appendChild(newP,null);
}
catch(err)
{
    console.log(err.message);
}




if (site_footer.parentNode != document.body){
    let father = site_footer.parentNode;
    let clone = site_footer.cloneNode;
    father.removeChild(site_footer);
    document.body.appendChild(clone);
}





if (screen<=850) {

  document.getElementsByClassName("my-site-header")[0].style.display="none";
} else {

	window.addEventListener("scroll", function(e) {
	let spectral=document.getElementById("spectral");
	if (screen>850 ){
		if (window.pageYOffset > 150) {
			header.classList.add("sticky");
    		if (container.lenght>0) {container[0].style.marginTop="65px";};
            logodiv[0].style.height="120px";
    	} else {
    	header.classList.remove("sticky");
    	if (container.lenght>0) {container[0].style.marginTop="0px";};
    	spectral.style.display="none";
        logodiv[0].style.height="220px";
    	}

    } 
    if (screen<=850) {

    	if (window.pageYOffset > 150){
    		spectral.style.display="block";
    	} else {
    		spectral.style.display="none";
    	}
    }
});
}


}





 
let chemin = window.location.pathname;
if (chemin.search('NSI')>-1) {
baniere=document.querySelector("#myHeader");


let linkBox = document.createElement('div');
linkBox.classList.add('linkBox');
let newH = document.createElement('a');
newH.innerHTML='<a href="/docs/NSI_1/NSI_index/index.html">NSI</a>';

newH.classList.add('nsi');

linkBox.appendChild(newH);
baniere.appendChild(linkBox); 
}
</script>

<style>
  #myHeader{
    display:flex;
    flex-direction: row-reverse;
  }
  #myHeader>.titre{
    width:80%;
    min-width:300px;
    text-align: left;

    
  }
  .linkBox{
    margin:10px;
    padding-top:10px;
    background-color: pink;
    
    min-width:50px;

  }
  .isn{
     
    
  }
</style>



</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      
<nav role="navigation">

<div class="site-menu-before" style="height:220px; display:block;" >
<img src="/logo-site.svg" id="spectral" height="50%" style="display:none;">	

</div>



    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2fNSI\2f algorithmes\2fpage6\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li>
<p><a href="/"><strong>Accueil</strong></a></p>
</li>
<li>
<p><a href="/docs/SNT_2nde/SNT_index/"><strong>SNT secondes</strong></a></p>
</li>
<li>
<p><a href="/docs/NSI_1/NSI_index/"><strong>NSI 1ere</strong></a></p>
</li>
<li>
<p><a href="/docs/NSI/NSI_index/"><strong>NSI Term</strong></a></p>
</li>
<li>
<p><a href="/docs/PC_2nde/PC_index/"><strong>Physique Chimie 2nde</strong></a></p>
</li>
<li>
<p><a href="/docs/PC_1ere/PC_index/"><strong>Physique 1ere Spé</strong></a></p>
</li>
<li>
<p><a href="/docs/esf/esf_index/"><strong>ESF</strong></a></p>
</li>
<li>
<p><a href="/docs/python/index_python_D/"><strong>Python debutant</strong></a></p>
</li>
<li>
<p><a href="/docs/python/index_python/"><strong>Python avancé</strong></a></p>
</li>
<li>
<p><a href="/docs/techno/index_microcontroleurs/"><strong>Techno</strong></a></p>
</li>
<li>
<p><a href="/posts/"><strong>Posts</strong></a></p>
</li>
<li>
<p><a href="/docs/contact/simple-contact-form/"><strong>Contact</strong></a></p>
</li>
</ul>





</nav>



  
<script>
(function() {
  var menu = document.querySelector('aside.book-menu nav')
  addEventListener('beforeunload', function(event) {
    localStorage.setItem('menu.scrollTop', menu.scrollTop)
  });
  menu.scrollTop = localStorage.getItem('menu.scrollTop')
})()
</script>



    </aside>

    <div class="book-page">
      <header class="align-center justify-between book-header">

  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>
  
    
    algorithmes avancés
  
</strong>
</header>

      
<article class="markdown"><h1 id="pré-requis">Pré requis</h1>
<ul>
<li>Complexité : <a href="/docs/NSI/algorithmes/page1/">lien</a></li>
<li>Récursivité : <a href="/docs/NSI/langages/page2/">lien</a></li>
</ul>
<p>On verra dans cette page:</p>
<ul>
<li>la programmation dynamique</li>
<li>les algorithmes gloutons</li>
<li>un exemple d&rsquo;algorithme avec recherche locale. Pour la résolution d&rsquo;un problème de TSP (Traveling salesman problem)</li>
</ul>
<h1 id="programmation-dynamique">Programmation dynamique</h1>
<h2 id="principe-de-la-méthode">Principe de la méthode</h2>
<p>La programmation dynamique permet de résoudre plus <em>efficacement des problèmes d&rsquo;optimisation.</em></p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>La programmation dynamique consiste à résoudre un problème en le décomposant en sous-problèmes, puis à <strong>résoudre les sous-problèmes</strong>, des plus petits aux plus grands <strong>en stockant les résultats intermédiaires</strong>.</p>
<p>Cela differe des algorithmes de type diviser pour régner par le fait que les sous-problèmes considérés ne sont pas nécessairement indépendants.</p>
<p>Cette méthode a été introduite au début des années 1950 par Richard Bellman.</p>
<h2 id="des-solutions-pas-toujours-optimales">Des solutions pas toujours optimales</h2>
<p>Parfois, le calcul des valeurs de sous problèmes est redondant : on calcule plusieurs fois la même chose. Cela n&rsquo;est pas <em>efficace</em>.
La méthode demande alors de <em>mémoriser</em> ce résultat intermédiaire dans un dictionnaire ou un tableau afin de le réutiliser au besoin. Sans avoir besoin de les recalculer. La complexité spatiale augmente, mais celle temporelle diminue.</p>
<p>Cette méthode s&rsquo;appelle : la <strong>mémoïzation</strong>.</p>
<h1 id="exemple--le-triangle-de-pascal">Exemple : le triangle de Pascal</h1>
<h2 id="principe">Principe</h2>
<p>En mathématiques, le triangle de Pascal est une présentation des coefficients binomiaux dans un triangle. Il fut nommé ainsi en l&rsquo;honneur du mathématicien français Blaise Pascal. Il est connu sous l&rsquo;appellation « triangle de Pascal » en Occident, bien qu&rsquo;il fût étudié par d&rsquo;autres mathématiciens, parfois plusieurs siècles avant lui.</p>
<!-- raw HTML omitted -->
<p>Cette figure permet de calculer les coefficients binomiaux d&rsquo;un polynôme (x+y) à la puissance n:</p>
<!-- raw HTML omitted -->
<p>$$C\left(\begin{matrix}i\j\end{matrix}\right)=C\left(\begin{matrix}i-1\j-1\end{matrix}\right)+C\left(\begin{matrix}i-1\j\end{matrix}\right)$$</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="algorithme-récursif-non-optimisé">Algorithme récursif non optimisé</h2>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">pascal_recur</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">,</span><span style="color:#111">p</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">if</span> <span style="color:#111">p</span><span style="color:#f92672">==</span><span style="color:#ae81ff">0</span><span style="color:#111">:</span><span style="color:#00a8c8">return</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">if</span> <span style="color:#111">p</span><span style="color:#f92672">&gt;</span><span style="color:#111">n</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">return</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">else</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">return</span> <span style="color:#111">pascal_recur</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#111">p</span><span style="color:#111">)</span> <span style="color:#f92672">+</span> <span style="color:#111">pascal_recur</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#111">p</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">pascal</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">T</span> <span style="color:#f92672">=</span> <span style="color:#111">[[</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">*</span> <span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">)</span> <span style="color:#00a8c8">for</span> <span style="color:#111">p</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">)]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">n</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">for</span> <span style="color:#111">k</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>            <span style="color:#111">T</span><span style="color:#111">[</span><span style="color:#111">n</span><span style="color:#111">][</span><span style="color:#111">k</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">pascal_recur</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">,</span><span style="color:#111">k</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">T</span>
</span></span></code></pre></div><p>On peut alors tester le programme (jupyter notebook):</p>
<!-- raw HTML omitted -->
<pre><code>&lt;tr&gt;
    &lt;th scope=&quot;row&quot;&gt;OUT&lt;/th&gt;
    &lt;td&gt;
     [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0],&lt;br&gt;
</code></pre>
<p>[1, 1, 0, 0, 0, 0, 0, 0, 0, 0],<!-- raw HTML omitted -->
[1, 2, 1, 0, 0, 0, 0, 0, 0, 0],<!-- raw HTML omitted -->
[1, 3, 3, 1, 0, 0, 0, 0, 0, 0],<!-- raw HTML omitted -->
[1, 4, 6, 4, 1, 0, 0, 0, 0, 0],<!-- raw HTML omitted -->
[1, 5, 10, 10, 5, 1, 0, 0, 0, 0],<!-- raw HTML omitted -->
[1, 6, 15, 20, 15, 6, 1, 0, 0, 0],<!-- raw HTML omitted -->
[1, 7, 21, 35, 35, 21, 7, 1, 0, 0],<!-- raw HTML omitted -->
[1, 8, 28, 56, 70, 56, 28, 8, 1, 0],<!-- raw HTML omitted -->
[1, 9, 36, 84, 126, 126, 84, 36, 9, 1]]
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>On remarque que l&rsquo;on calcule souvent les mêmes coefficients binomiaux :</p>
<!-- raw HTML omitted -->
<p>La mémoïzation consistera alors à stocker dans un tableau les solutions pour les sous-problèmes afin de ne pas les recalculer&hellip;</p>
<h2 id="algorithme-avec-mémoïzation">Algorithme avec mémoïzation</h2>
<p>Chaque valeur du triangle n&rsquo;est calculée qu&rsquo;une seule fois.</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">trianglePascal</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">T</span> <span style="color:#f92672">=</span> <span style="color:#111">[[</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">*</span> <span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">)</span> <span style="color:#00a8c8">for</span> <span style="color:#111">p</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">)]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">n</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">if</span> <span style="color:#111">n</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#111">T</span><span style="color:#111">[</span><span style="color:#111">n</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">else</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#00a8c8">for</span> <span style="color:#111">k</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00a8c8">if</span> <span style="color:#111">k</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#111">T</span><span style="color:#111">[</span><span style="color:#111">n</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                <span style="color:#00a8c8">else</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#111">T</span><span style="color:#111">[</span><span style="color:#111">n</span><span style="color:#111">][</span><span style="color:#111">k</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">T</span><span style="color:#111">[</span><span style="color:#111">n</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#111">][</span><span style="color:#111">k</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#111">]</span> <span style="color:#f92672">+</span> <span style="color:#111">T</span><span style="color:#111">[</span><span style="color:#111">n</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#111">][</span><span style="color:#111">k</span><span style="color:#111">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">T</span>
</span></span></code></pre></div><h1 id="algorithmes-gloutons">Algorithmes gloutons</h1>
<h2 id="le-problème-du-rendu-de-monnaie">Le problème du rendu de monnaie</h2>
<p>Le problème du rendu de monnaie est un problème d&rsquo;algorithmique. Il s&rsquo;énonce de la façon suivante : étant donné un système de monnaie (pièces et billets), comment rendre une somme donnée de façon optimale, c&rsquo;est-à-dire avec le nombre minimal de pièces et billets ?</p>
<p>Par exemple, la meilleure façon de rendre 7 euros est de rendre un billet de cinq et une pièce de deux, même si d&rsquo;autres façons existent (rendre 7 pièces de un euro, par exemple).</p>
<!-- raw HTML omitted -->
<h3 id="algorithme-naif">algorithme naif</h3>
<p>Une première idée, naïve serait de commencer par rendre la piece de plus grande valeur, puis sur la somme restante, la pièce un peu moins grande, et ainsi de suite.</p>
<p>Pour une somme <code>cost</code> à rendre, et un systeme de monnaie appelé <code>caisse</code> :</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#111">pour</span> <span style="color:#111">chaque</span> <span style="color:#111">piece</span> <span style="color:#111">de</span> <span style="color:#111">caisse</span><span style="color:#111">,</span> <span style="color:#111">parcouru</span> <span style="color:#111">en</span> <span style="color:#111">sens</span> <span style="color:#111">decroissant</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">si</span> <span style="color:#111">cost</span> <span style="color:#f92672">&gt;</span> <span style="color:#111">piece</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">n</span> <span style="color:#f92672">=</span> <span style="color:#111">cost</span> <span style="color:#f92672">//</span> <span style="color:#111">piece</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">ajouter</span> <span style="color:#111">n</span> <span style="color:#111">pieces</span> <span style="color:#111">dans</span> <span style="color:#111">le</span> <span style="color:#111">rendu</span> <span style="color:#111">de</span> <span style="color:#111">monnaie</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">cost</span> <span style="color:#f92672">=</span> <span style="color:#111">cost</span> <span style="color:#f92672">-</span> <span style="color:#111">n</span> <span style="color:#f92672">*</span> <span style="color:#111">piece</span>
</span></span></code></pre></div><p>Le programme python est donné en annexe. Les essais sont proposés ci-dessous:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">caisse</span> <span style="color:#f92672">=</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#ae81ff">2</span><span style="color:#111">,</span><span style="color:#ae81ff">5</span><span style="color:#111">,</span><span style="color:#ae81ff">10</span><span style="color:#111">,</span><span style="color:#ae81ff">20</span><span style="color:#111">,</span><span style="color:#ae81ff">50</span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">rendre</span><span style="color:#111">(</span><span style="color:#ae81ff">93</span><span style="color:#111">,</span><span style="color:#111">caisse</span><span style="color:#111">)</span> <span style="color:#75715e"># OK optimal</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">,</span> <span style="color:#ae81ff">2</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">,</span> <span style="color:#ae81ff">5</span><span style="color:#111">:</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">10</span><span style="color:#111">:</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">20</span><span style="color:#111">:</span> <span style="color:#ae81ff">2</span><span style="color:#111">,</span> <span style="color:#ae81ff">50</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">caisse</span> <span style="color:#f92672">=</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#ae81ff">10</span><span style="color:#111">,</span><span style="color:#ae81ff">15</span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">rendre</span><span style="color:#111">(</span><span style="color:#ae81ff">21</span><span style="color:#111">,</span><span style="color:#111">caisse</span><span style="color:#111">)</span> <span style="color:#75715e"># non optimal</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">:</span> <span style="color:#ae81ff">6</span><span style="color:#111">,</span> <span style="color:#ae81ff">10</span><span style="color:#111">:</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">15</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">}</span>
</span></span></code></pre></div><ul>
<li>
<p>Lorsque l&rsquo;on veut rendre 93 à l&rsquo;aide d&rsquo;une caisse constituée de billets ou de pieces de {1,2,5,10,20,50}, le résultat est:</p>
<ul>
<li>1 billet de 50</li>
<li>2 billets de 20</li>
<li>1 piece de 2</li>
<li>1 piece de 1</li>
</ul>
</li>
</ul>
<p>Ce rendu est optimal: on ne peut pas rendre moins de billets/pieces.</p>
<ul>
<li>
<p>Lorsque l&rsquo;on veut rendre 21 à l&rsquo;aide d&rsquo;une caisse constituée de billets ou de pieces de {1, 10, 15}, le résultat est:</p>
<ul>
<li>1 piece de 15</li>
<li>6 pieces de 1</li>
</ul>
</li>
</ul>
<p>Ce rendu n&rsquo;est pas optimal. On trouve une solution, mais celle-ci contient trop de pieces.</p>
<p>Contrairement aux problèmes étudiés précédement (tri d’un tableau, calcul de x<!-- raw HTML omitted -->n<!-- raw HTML omitted -->&hellip;), où il y avait toujours une unique solution, dans les problèmes d’optimisation, il peut y avoir des solutions valides (satisfaisant les contraintes) non optimales, une ou plusieurs solutions (valides), optimales (minimisant/maximisant une certaine mesure), voire pas du tout de solution valide.</p>
<p>Si la taille du ou des paramètres en entrée est importante, il n&rsquo;y a pas d&rsquo;algorithme déterministe efficace. (on ne peut pas trouver LA solution au problème en parcourant toutes les solutions possibles car la complexité est trop grande).</p>
<p>On utilise alors d&rsquo;autres stratégies, qui donneront parfois une solution, parfois une solution optimale. C&rsquo;est ce que l&rsquo;on réalise avec l&rsquo;utilisation d&rsquo;un algorithme glouton.</p>
<p>Le problème du rendu de monnaie est <em>NP-difficile</em> relativement au nombre de pièce et billet du système monétaire considéré. (voir annexe).</p>
<h3 id="algorithme-de-type-glouton">algorithme de type glouton</h3>
<p>On cherche à créer une liste de rendu de monnaie pour chaque montant de 0 à x.</p>
<p>Pour rendre x, il faut au moins une pièce, à prendre parmi n pieces possibles. Une fois choisie cette pièce, la somme restante inférieure strictement à x, donc on sait la rendre de façon optimale. Il suffit donc d&rsquo;essayer les n possibilités. Et de faire un choix parmi les solutions trouvées: celle qui rend le moins de pieces.</p>
<p>Exemple: Rendre 15 avec des pieces de {1, 7, 9}. Ce type de caisse ne donnerait pas le résultat optimum avec le précédent algorithme. Ici, cela peut-être réalisé avec un algorithme <em>glouton</em>, comme le montre le tableau ci-dessous:</p>
<table>
<thead>
<tr>
<th>montant à rendre</th>
<th>rendu</th>
</tr>
</thead>
<tbody>
<tr>
<td>15</td>
<td>3 pieces avec <strong>[1,1],[7,2],[9,0]</strong> (Bon) ou 7 avec [1,6],[7,0],[9,1]</td>
</tr>
<tr>
<td>14</td>
<td>2 pieces avec <strong>[1,0],[7,2],[9,0]</strong> (Bon) ou 6 avec [1,5],[7,0],[9,1]</td>
</tr>
<tr>
<td>13</td>
<td>7 pieces avec [1,6],[7,1],[9,0] ou 5 avec <strong>[1,4],[7,0],[9,1]</strong> (Bon)</td>
</tr>
<tr>
<td>12</td>
<td>[1,5],[7,1],[9,0] ou <strong>[1,3],[7,0],[9,1]</strong> (Bon)</td>
</tr>
<tr>
<td>11</td>
<td>[1,4],[7,1],[9,0] ou <strong>[1,2],[7,0],[9,1]</strong> (Bon)</td>
</tr>
<tr>
<td>10</td>
<td>[1,3],[7,1],[9,0] ou <strong>[1,1],[7,0],[9,1]</strong> (Bon)</td>
</tr>
<tr>
<td>9</td>
<td>[1,2],[7,1],[9,0] ou <strong>[1,0],[7,0],[9,1]</strong> (Bon)</td>
</tr>
<tr>
<td>8</td>
<td>[1,1],[7,1],[9,0]</td>
</tr>
<tr>
<td>7</td>
<td>[1,0],[7,1],[9,0]</td>
</tr>
<tr>
<td>6</td>
<td>[1,6],[7,0],[9,0]</td>
</tr>
<tr>
<td>5</td>
<td>[1,5],[7,0],[9,0]</td>
</tr>
<tr>
<td>4</td>
<td>[1,4],[7,0],[9,0]</td>
</tr>
<tr>
<td>3</td>
<td>[1,3],[7,0],[9,0]</td>
</tr>
<tr>
<td>2</td>
<td>[1,2],[7,0],[9,0]</td>
</tr>
<tr>
<td>1</td>
<td>[1,1],[7,0],[9,0]</td>
</tr>
</tbody>
</table>
<p>L&rsquo;algorithme remplit le tableau depuis la valeur 1 jusqu&rsquo;à 15.</p>
<p>Le tableau montre les choix que réalise l&rsquo;algorithme.</p>
<p><strong>Remarque:</strong> Ce problème est <a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_NP-complet">NP-complet</a> dans le cas général, c&rsquo;est-à-dire difficile à résoudre. Cependant pour certains systèmes de monnaie dits canoniques, l&rsquo;<a href="https://fr.wikipedia.org/wiki/Algorithme_glouton">algorithme glouton</a> est optimal.</p>
<h3 id="le-problème-du-sac-à-dos">Le problème du sac à dos</h3>
<p>Un problème très similaire est celui du sac-à-dos. Supposons que vous découvriez la caverne d&rsquo;Ali Baba (et des 40 voleurs), il y a une infinité d&rsquo;objets de valeur <code>v1, v2, · · · , vn</code> mais chaque objet de valeur <code>vi</code> a un poids de <code>pi</code>. Comment remplir votre sac-à-dos avec le contenu qui rapportera le plus, sachant que votre sac ne supporte qu’un poids <code>W</code>?</p>
<!-- raw HTML omitted -->
<h2 id="algorithme-de-type-glouton-1">Algorithme de type glouton</h2>
<p>Nous allons chercher à adapter l&rsquo;algorithme du rendu de monnaie:</p>
<p><em>Structure de données:</em></p>
<table>
<thead>
<tr>
<th>rendu de monnaie</th>
<th>sac à dos</th>
</tr>
</thead>
<tbody>
<tr>
<td>[Nbre de piece, [pieces de 1, pieces de 2, pieces de 5, &hellip;]]</td>
<td>[Gains cumulés, [articles 1, articles 2, articles 3, &hellip;]]</td>
</tr>
</tbody>
</table>
<p><em>Algorithme:</em></p>
<table>
<thead>
<tr>
<th>rendu de monnaie</th>
<th>sac à dos</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pour toute valeur de montant i jusqu&rsquo;à x</td>
<td>Pour tout poids i jusqu&rsquo;à W</td>
</tr>
<tr>
<td>Pour tout montant de piece de la caisse</td>
<td>Pour tout objet (vi, pi) du tresor</td>
</tr>
<tr>
<td><strong>Test 1</strong>: le montant de la piece est-il &lt; i?</td>
<td><strong>Test 1</strong>: Le poids de l&rsquo;objet est-il &lt; i?</td>
</tr>
<tr>
<td><strong>Test 2</strong>: Si j&rsquo;ajoute la piece pour rendre la monnaie, le nombre de pieces rendues sera-t-il inférieur à celui stocké pour i? (le reste de la somme à rendre a deja été calculé precedemment)</td>
<td><strong>Test 2</strong>: Si je prend l&rsquo;objet, le montant total rapporté est-il supérieur à la valeur stockée pour i?</td>
</tr>
<tr>
<td>Si oui: rendre la piece</td>
<td>Si oui: prendre l&rsquo;objet</td>
</tr>
</tbody>
</table>
<h1 id="le-problème-du-voyageur-du-commerce">Le problème du voyageur du commerce</h1>
<h2 id="énoncé-du-problème">énoncé du problème</h2>
<p>le problème du voyageur de commerce, est un problème d&rsquo;optimisation qui, étant donné une liste de villes, et des distances entre toutes les paires de villes, détermine un plus court circuit qui visite chaque ville une et une seule fois.</p>
<p>Malgré la simplicité de son énoncé, il s&rsquo;agit d&rsquo;un problème d&rsquo;optimisation pour lequel on ne connait pas d&rsquo;algorithme permettant de trouver une solution exacte rapidement dans tous les cas. Plus précisément, on ne connait pas d&rsquo;algorithme en temps polynomial, et sa version décisionnelle (pour une distance D, existe-t-il un chemin plus court que D passant par toutes les villes et qui termine dans la ville de départ ?) est un problème <a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_NP-complet">NP-complet</a>. Voir annexe pour précisions.</p>
<p>Pour résoudre ce problème, une <strong>heuristique gloutonne</strong> construit une seule solution, par une suite de décisions définitives sans retour arrière, parmi ces méthodes on cite le plus proche voisin, la plus proche insertion, la plus lointaine insertion et la meilleure insertion. Il n&rsquo;est pas certain que la méthode donne la meilleure solution.</p>
<p>La figure suivante aide à la resolution. La solution optimale est celle qui va joindre tous les noeuds du graphe, une seule fois. (Cycle hamiltonien)<!-- raw HTML omitted -->
Des solutions possibles, mais non optimales sont celles qui permettent de visiter tous les noeuds une seule fois, mais dont la distance parcourue cumulée n&rsquo;est peut-être pas la plus courte.</p>
<!-- raw HTML omitted -->
<p>Mais une illustration plus concrête est celle par exemple du problème de la tournée du candidat pour les élections présidentielles aux état-unis:</p>
<!-- raw HTML omitted -->
<p>On voit que la recherche d&rsquo;une solution en comparant tous les tours qu&rsquo;il est mathématiquement possible de faire n&rsquo;est pas raisonnable. La complexité est trop importante.</p>
<h2 id="algorithme-de-recherche-locale-k-opt">algorithme de recherche locale k-opt</h2>
<p>L&rsquo;algorithme k-opt est un algorithme de recherche locale proposé par Georges A. Croes en 19581 pour résoudre le problème du voyageur de commerce en améliorant une solution initiale. On représente le tour par un graphe connexe.</p>
<p>à chaque étape, on supprime deux arêtes de la solution courante et on reconnecte les deux tours ainsi formés. Cette méthode permet, entre autres, d&rsquo;améliorer le coût des solutions en supprimant les arêtes sécantes lorsque l&rsquo;inégalité triangulaire est respectée (voir figure ci-contre). Sur le schéma de droite, la route {a, b, e, d, c, f, g} est changée en {a, b, c, d, e, f, g} en inversant l&rsquo;ordre de visite des villes e et c. Il n&rsquo;est toutefois pas certain que la solution trouvée soit également optimale lorsque l&rsquo;on additionne ces morceaux de tours.. <a href="https://fr.wikipedia.org/wiki/2-opt">source: wikipedia: 2-opt</a>.</p>
<p><em>Plus généralement, lorsqu&rsquo;on inverse l&rsquo;ordre de parcours de deux villes, il faut aussi inverser l&rsquo;ordre de parcours de toutes les villes entre ces deux villes.</em></p>
<!-- raw HTML omitted -->
<h1 id="résumé">Résumé</h1>
<!-- raw HTML omitted -->
<h1 id="annexes">Annexes</h1>
<h2 id="programmes-python-du-rendu-de-monnaie">Programmes python du rendu de monnaie</h2>
<h3 id="algo-naîf">algo naîf</h3>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">estvide</span><span style="color:#111">(</span><span style="color:#111">ensemble</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d88200">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    fonction qui teste si un ensemble est vide
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    retourne True si vide
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    False sinon
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">vide</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">True</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">i</span> <span style="color:#f92672">in</span> <span style="color:#111">ensemble</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">vide</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">False</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">vide</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">rendre</span><span style="color:#111">(</span><span style="color:#111">cost</span><span style="color:#111">,</span><span style="color:#111">caisse</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d88200">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    fonction qui rend la monnaie sur une somme cost (int) selon le 
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    contenu de la caisse (une variable de type set)
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    en commençant par la plus grande des pieces.
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    caisse : la caisse du commerçant (set)
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    rendu : ce que rend le commerçant (dict)
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    à chaque itération de la boucle, on retire la piece de l&#39;ensemble caisse 
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    qui est utilisée jusqu&#39;à ce que caisse soit vide
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">### initialisation ###</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">rendu</span> <span style="color:#f92672">=</span> <span style="color:#111">{}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">i</span> <span style="color:#f92672">in</span> <span style="color:#111">caisse</span> <span style="color:#111">:</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#111">rendu</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">while</span> <span style="color:#f92672">not</span> <span style="color:#111">estvide</span><span style="color:#111">(</span><span style="color:#111">caisse</span><span style="color:#111">):</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">piece</span> <span style="color:#f92672">=</span> <span style="color:#111">max</span><span style="color:#111">(</span><span style="color:#111">caisse</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">n</span> <span style="color:#f92672">=</span> <span style="color:#111">cost</span><span style="color:#f92672">//</span><span style="color:#111">piece</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">cost</span> <span style="color:#f92672">=</span> <span style="color:#111">cost</span> <span style="color:#f92672">-</span> <span style="color:#111">n</span><span style="color:#f92672">*</span><span style="color:#111">piece</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">rendu</span><span style="color:#111">[</span><span style="color:#111">piece</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">n</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">caisse</span><span style="color:#f92672">.</span><span style="color:#111">remove</span><span style="color:#111">(</span><span style="color:#111">piece</span><span style="color:#111">)</span>       
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">rendu</span>
</span></span></code></pre></div><p>essais</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">caisse</span> <span style="color:#f92672">=</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#ae81ff">2</span><span style="color:#111">,</span><span style="color:#ae81ff">5</span><span style="color:#111">,</span><span style="color:#ae81ff">10</span><span style="color:#111">,</span><span style="color:#ae81ff">20</span><span style="color:#111">,</span><span style="color:#ae81ff">50</span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">rendre</span><span style="color:#111">(</span><span style="color:#ae81ff">93</span><span style="color:#111">,</span><span style="color:#111">caisse</span><span style="color:#111">)</span> <span style="color:#75715e"># OK optimal</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">,</span> <span style="color:#ae81ff">2</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">,</span> <span style="color:#ae81ff">5</span><span style="color:#111">:</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">10</span><span style="color:#111">:</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">20</span><span style="color:#111">:</span> <span style="color:#ae81ff">2</span><span style="color:#111">,</span> <span style="color:#ae81ff">50</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">caisse</span> <span style="color:#f92672">=</span> <span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#ae81ff">10</span><span style="color:#111">,</span><span style="color:#ae81ff">15</span><span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#111">rendre</span><span style="color:#111">(</span><span style="color:#ae81ff">21</span><span style="color:#111">,</span><span style="color:#111">caisse</span><span style="color:#111">)</span> <span style="color:#75715e"># non optimal</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span><span style="color:#ae81ff">1</span><span style="color:#111">:</span> <span style="color:#ae81ff">6</span><span style="color:#111">,</span> <span style="color:#ae81ff">10</span><span style="color:#111">:</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">15</span><span style="color:#111">:</span> <span style="color:#ae81ff">1</span><span style="color:#111">}</span>
</span></span></code></pre></div><h3 id="algorithme-glouton">algorithme glouton</h3>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#111">copy</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">renduMonnaieProgDyn</span><span style="color:#111">(</span><span style="color:#111">x</span><span style="color:#111">,</span><span style="color:#111">c</span><span style="color:#111">)</span> <span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d88200">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    c : caisse avec les genres de pieces à rendre par ex [1,2,5,10]
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    x : montant à rendre
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    res : tableau contenant : [nbe pieces rendues,[nb pieces de pieces de A, nb de B, nb de C]]
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    temp : nombre de pieces rendues
</span></span></span><span style="display:flex;"><span><span style="color:#d88200">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">n</span> <span style="color:#f92672">=</span> <span style="color:#111">len</span><span style="color:#111">(</span><span style="color:#111">c</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">res</span> <span style="color:#f92672">=</span> <span style="color:#111">[[</span><span style="color:#111">x</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#ae81ff">0</span> <span style="color:#00a8c8">for</span> <span style="color:#111">j</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">)]]</span> <span style="color:#00a8c8">for</span> <span style="color:#111">i</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#111">)]</span>  <span style="color:#75715e"># initialisation de la table avec des x </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># x pieces rendues correspond à la plus mauvaise des reponses (par ex que des pieces de 1)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#ae81ff">0</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">i</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#111">x</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">)</span> <span style="color:#111">:</span>  <span style="color:#75715e"># valeur du montant à rendre : recherche pour TOUT montant</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">for</span> <span style="color:#111">j</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">)</span> <span style="color:#111">:</span> <span style="color:#75715e"># parcours de la caisse</span>
</span></span><span style="display:flex;"><span>            <span style="color:#00a8c8">if</span> <span style="color:#111">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#111">c</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">]</span> <span style="color:#111">:</span> <span style="color:#75715e"># rendre de la monnaie avec cette piece</span>
</span></span><span style="display:flex;"><span>                <span style="color:#111">temp</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span> <span style="color:#f92672">-</span> <span style="color:#111">c</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">]][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#75715e"># rend une piece du type de celle de rang j</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e"># le nbe de piece au total est egal à 1 + le nbe de piece pour rendre le reste (deja calc)</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#00a8c8">if</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span><span style="color:#f92672">&gt;=</span><span style="color:#111">temp</span><span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">temp</span>   <span style="color:#75715e"># nombre de pieces rendues</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">copy</span><span style="color:#f92672">.</span><span style="color:#111">deepcopy</span><span style="color:#111">(</span><span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#f92672">-</span><span style="color:#111">c</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">]][</span><span style="color:#ae81ff">1</span><span style="color:#111">])</span>   <span style="color:#75715e"># copier le nb de pieces de A , de B, de C pour le rendu de monnaie</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e"># monnaie du montant i-c[j]</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e"># ici il faudra copy.deepcopy pour faire une copie par valeur</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">][</span><span style="color:#111">j</span><span style="color:#111">]</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># ajouter 1 au nombre de pieces de c[j] utilisées</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#111">print</span><span style="color:#111">(</span><span style="color:#d88200">f</span><span style="color:#d88200">&#39;i: </span><span style="color:#d88200">{</span><span style="color:#111">i</span><span style="color:#d88200">:</span><span style="color:#d88200">2</span><span style="color:#d88200">}</span><span style="color:#d88200">, j: </span><span style="color:#d88200">{</span><span style="color:#111">j</span><span style="color:#d88200">:</span><span style="color:#d88200">2</span><span style="color:#d88200">}</span><span style="color:#d88200">, res[</span><span style="color:#d88200">{</span><span style="color:#111">i</span><span style="color:#d88200">}</span><span style="color:#d88200">]: </span><span style="color:#d88200">{</span><span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">]</span><span style="color:#d88200">}</span><span style="color:#d88200">, temp: </span><span style="color:#d88200">{</span><span style="color:#111">temp</span><span style="color:#d88200">}</span><span style="color:#d88200">&#39;</span> <span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">x</span><span style="color:#111">]</span>
</span></span></code></pre></div><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="le-problème-du-sac-à-dos-1">Le problème du sac à dos</h2>
<p><em>Résolution</em></p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> <span style="color:#111">copy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">def</span> <span style="color:#75af00">sacADosRemise</span><span style="color:#111">(</span><span style="color:#111">W</span><span style="color:#111">,</span> <span style="color:#111">s</span><span style="color:#111">)</span> <span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">n</span> <span style="color:#f92672">=</span> <span style="color:#111">len</span><span style="color:#111">(</span><span style="color:#111">s</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">res</span> <span style="color:#f92672">=</span> <span style="color:#111">[[</span><span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#ae81ff">0</span> <span style="color:#00a8c8">for</span> <span style="color:#111">j</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">n</span><span style="color:#111">)]]</span> <span style="color:#00a8c8">for</span> <span style="color:#111">i</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#111">W</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#111">)]</span> <span style="color:#75715e"># format [valeur totale,[nb_o1, nb_o2, nb_o3, nb_o4]]]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">for</span> <span style="color:#111">i</span> <span style="color:#f92672">in</span> <span style="color:#111">range</span><span style="color:#111">(</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#111">W</span> <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#111">)</span> <span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">j</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">while</span> <span style="color:#111">(</span><span style="color:#111">j</span> <span style="color:#f92672">&lt;</span> <span style="color:#111">n</span><span style="color:#111">)</span> <span style="color:#f92672">and</span> <span style="color:#111">(</span><span style="color:#111">i</span><span style="color:#f92672">-</span><span style="color:#111">s</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">]</span><span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span><span style="color:#111">)</span> <span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>            <span style="color:#00a8c8">if</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span> <span style="color:#f92672">-</span> <span style="color:#111">s</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">]][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">+</span> <span style="color:#111">s</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">&gt;</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#111">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span> <span style="color:#f92672">-</span> <span style="color:#111">s</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">]][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span> <span style="color:#f92672">+</span> <span style="color:#111">s</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">][</span><span style="color:#ae81ff">0</span><span style="color:#111">]</span>
</span></span><span style="display:flex;"><span>                <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">]</span> <span style="color:#f92672">=</span> <span style="color:#111">copy</span><span style="color:#f92672">.</span><span style="color:#111">deepcopy</span><span style="color:#111">(</span><span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span> <span style="color:#f92672">-</span> <span style="color:#111">s</span><span style="color:#111">[</span><span style="color:#111">j</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">]][</span><span style="color:#ae81ff">1</span><span style="color:#111">])</span>
</span></span><span style="display:flex;"><span>                <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">i</span><span style="color:#111">][</span><span style="color:#ae81ff">1</span><span style="color:#111">][</span><span style="color:#111">j</span><span style="color:#111">]</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#111">j</span><span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">res</span><span style="color:#111">[</span><span style="color:#111">W</span><span style="color:#111">]</span>
</span></span></code></pre></div><p><em>essais:</em></p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#111">W</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#111">s</span> <span style="color:#f92672">=</span> <span style="color:#111">[(</span><span style="color:#ae81ff">1</span><span style="color:#111">,</span><span style="color:#ae81ff">2</span><span style="color:#111">),(</span><span style="color:#ae81ff">2</span><span style="color:#111">,</span><span style="color:#ae81ff">3</span><span style="color:#111">),(</span><span style="color:#ae81ff">4</span><span style="color:#111">,</span><span style="color:#ae81ff">5</span><span style="color:#111">),(</span><span style="color:#ae81ff">6</span><span style="color:#111">,</span><span style="color:#ae81ff">8</span><span style="color:#111">)]</span> <span style="color:#75715e"># ensemble de couples (valeur, poids)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#111">sacADosRemise</span><span style="color:#111">(</span><span style="color:#111">W</span><span style="color:#111">,</span><span style="color:#111">s</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span><span style="color:#111">[</span><span style="color:#ae81ff">12</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">0</span><span style="color:#111">,</span> <span style="color:#ae81ff">3</span><span style="color:#111">,</span> <span style="color:#ae81ff">0</span><span style="color:#111">]]</span>
</span></span></code></pre></div><h2 id="complexité">Complexité</h2>
<h3 id="rappels">Rappels</h3>
<p><strong>Complexité temporelle d’un algorithme</strong>. Il s’agit du nombre d’opérations élémentaires executées par l’algorithme dans un pire cas (une instance en entrée qui demande le plus de calculs). Cette complexité est exprimée en fonction de la “taille de l’entrée”. Par exemple, nous avons vu des algorithmes de tri avec des complexité en O(n2) ou en O(nlogn) avec n la longueur du tableau en entrée.</p>
<p>Pour l&rsquo;exemple du voyageur du commerce: Le nombre de solutions possibles, où les villes sont toutes parcourues une fois, il y a un nombre TRES élevé d&rsquo;alternatives:</p>
<p>Supposons un graphe à 50 sommets qui représente la carte de ces villes. Il y a 49! possibiltés. Ce qui fait 6,08.10<!-- raw HTML omitted -->62<!-- raw HTML omitted --> solutions.</p>
<p>Si l&rsquo;ordinateur évalue une solution en 0,1 ms, cela fait 6,08.10<!-- raw HTML omitted -->58<!-- raw HTML omitted -->s, soit 1,9.10<!-- raw HTML omitted -->49<!-- raw HTML omitted --> siecles de calculs !! (L&rsquo;Univers a 14 milliards d&rsquo;années).</p>
<h3 id="problèmes-p">Problèmes P</h3>
<p>Un problème est dit <strong>polynomial</strong> si il existe un algorithme pour le résoudre dont la complexité peut s’exprimer comme un polynôme de la taille de l’entrée (comme c’est le cas pour des problèmes de tri). L’ensemble des problèmes polynomiaux est noté P et est considéré comme un ensemble de problèmes “faciles” (ils peuvent être résolus relativement efficacement).</p>
<p>Un <em>exemple de problème polynomial</em> est celui de la <em>connexité dans un graphe</em>. Étant donné un graphe à n sommets (on considère que la taille de la donnée, donc du graphe, est son nombre de sommets), il s&rsquo;agit de savoir si toutes les paires de sommets sont reliées par un chemin. Un algorithme de parcours en profondeur construit un arbre couvrant du graphe à partir d&rsquo;un sommet. Si cet arbre contient tous les sommets du graphe, alors le graphe est connexe.(<a href="https://fr.wikipedia.org/wiki/P_(complexit%C3%A9)">wikipedia</a>)</p>
<h3 id="problèmes-np">Problèmes NP</h3>
<p>Une autre classe de problèmes importante est celle des problèmes dont on peut tester en temps polynomial si une solution est valide (par exemple, je vous donne un tableau et vous devez non pas le trier mais me dire si il est déjà trié ou non). Cette classe s’appelle NP pour <strong>Non déterministe Polynomial</strong>.</p>
<p>Si un problème est connu comme étant NP et si une solution au problème est connue, la démonstration de l’exactitude de la solution peut toujours être réduite à une vérification P (temps polynomial). Les algorithmes de cette classe sont non déterministes.</p>
<p>Le problème de savoir si P = NP est un des problèmes du millénaire de l’institut de mathématiques Clay. Informellement, il s’agit de savoir si vérifier efficacement qu’une &ldquo;solution à un problème est bien une solution valide&rdquo; revient à &ldquo;pouvoir trouver efficacement une solution valide au problème.&rdquo;</p>
<h3 id="problèmes-np-complets">Problèmes NP-complets</h3>
<p>Les problèmes dits NP-complets sont des problèmes au moins aussi difficiles que les plus difficiles de la classe NP.</p>
<p>Tous les algorithmes connus pour résoudre des problèmes NP-complets ont un temps d&rsquo;exécution exponentiel en la taille des données d&rsquo;entrée dans le pire des cas, et sont donc inexploitables en pratique même pour des instances de taille modérée. On peut donc raisonnablement penser qu&rsquo;il est inutile d&rsquo;en chercher une solution sous forme d&rsquo;un algorithme de complexité polynomiale.</p>
<p><em>Exemples de problèmes NP-complets:</em></p>
<p>On y retrouve les problèmes de décision (oui/non) et d&rsquo;optimisation (max ou min d&rsquo;une fonction), dont les problèmes vus plus haut.</p>
<h1 id="liens">Liens</h1>
<ul>
<li><a href="https://fr.wikipedia.org/wiki/Programmation_dynamique">wikipedia: la programmation dynamique</a></li>
<li><a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_du_rendu_de_monnaie">wikipedia: le problème du rendu de monnaie</a></li>
<li><a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_du_sac_%C3%A0_dos">wikipedia: le problème du sac à dos</a></li>
<li><a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_du_voyageur_de_commerce">wikipedia: le problème du voyageur du commerce</a></li>
<li><a href="https://pixees.fr/informatiquelycee/n_site/nsi_term_algo_progdyn.html">programmation dynamique: site Pixees.fr, David Roche</a></li>
<li>calcul de complexité de Fibonacci recursif et definition de la programmation dynamique: <a href="http://igm.univ-mlv.fr/~nicaud/poly/IR2_progdyn.pdf">univ-mlv.fr</a></li>
</ul>
</article>

      

      <div style="height:100px;"></div>



    </div>

    
  

  
  <aside class="book-toc fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#principe-de-la-méthode">Principe de la méthode</a></li>
    <li><a href="#des-solutions-pas-toujours-optimales">Des solutions pas toujours optimales</a></li>
  </ul>

  <ul>
    <li><a href="#principe">Principe</a></li>
    <li><a href="#algorithme-récursif-non-optimisé">Algorithme récursif non optimisé</a></li>
    <li><a href="#algorithme-avec-mémoïzation">Algorithme avec mémoïzation</a></li>
  </ul>

  <ul>
    <li><a href="#le-problème-du-rendu-de-monnaie">Le problème du rendu de monnaie</a>
      <ul>
        <li><a href="#algorithme-naif">algorithme naif</a></li>
        <li><a href="#algorithme-de-type-glouton">algorithme de type glouton</a></li>
        <li><a href="#le-problème-du-sac-à-dos">Le problème du sac à dos</a></li>
      </ul>
    </li>
    <li><a href="#algorithme-de-type-glouton-1">Algorithme de type glouton</a></li>
  </ul>

  <ul>
    <li><a href="#énoncé-du-problème">énoncé du problème</a></li>
    <li><a href="#algorithme-de-recherche-locale-k-opt">algorithme de recherche locale k-opt</a></li>
  </ul>

  <ul>
    <li><a href="#programmes-python-du-rendu-de-monnaie">Programmes python du rendu de monnaie</a>
      <ul>
        <li><a href="#algo-naîf">algo naîf</a></li>
        <li><a href="#algorithme-glouton">algorithme glouton</a></li>
      </ul>
    </li>
    <li><a href="#le-problème-du-sac-à-dos-1">Le problème du sac à dos</a></li>
    <li><a href="#complexité">Complexité</a>
      <ul>
        <li><a href="#rappels">Rappels</a></li>
        <li><a href="#problèmes-p">Problèmes P</a></li>
        <li><a href="#problèmes-np">Problèmes NP</a></li>
        <li><a href="#problèmes-np-complets">Problèmes NP-complets</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>



  </main>
  
  

<div class="site_footer">
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="/creative.png" /></a>


<span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Sciences numeriques</span> de <a xmlns:cc="http://creativecommons.org/ns#" href="" property="cc:attributionName" rel="cc:attributionURL">numerix.netlify.com</a> est mis à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">licence Creative Commons Attribution 4.0 International</a>



</div>
  
</body>

</html>
