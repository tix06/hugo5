<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>TP variables
| Sciences numériques</title><link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel=stylesheet><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167114468-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-167114468-1');</script><link rel=stylesheet href=/book.min.32802dced2d04a5a7553a22b5967b5f4538a6110e52a9b615a3ed5ee836e87c1.css><link rel=icon href=/favicon.png type=image/x-icon><div class=my-header-container><div class=my-site-header><img src=/logo-site-b.svg width="150 px"></div><div id=myHeader><div class=titre><h2><a href=/>Sciences numériques</a></h2></div></div></div><script async>window.onload=function(){let container=document.getElementsByClassName("book-page");let logodiv=document.getElementsByClassName("site-menu-before");let header=document.getElementById("myHeader");let screen=window.innerWidth;let site_footer=document.querySelector(".site_footer");try{let site_TOC=document.querySelector("#TableOfContents>ul");let newP=document.createElement('li');newP.textContent='Contenu de la page';site_TOC.appendChild(newP,null);}
catch(err)
{console.log(err.message);}
if(site_footer.parentNode!=document.body){let father=site_footer.parentNode;let clone=site_footer.cloneNode;father.removeChild(site_footer);document.body.appendChild(clone);}
if(screen<=850){document.getElementsByClassName("my-site-header")[0].style.display="none";}else{window.addEventListener("scroll",function(e){let spectral=document.getElementById("spectral");if(screen>850){if(window.pageYOffset>150){header.classList.add("sticky");if(container.lenght>0){container[0].style.marginTop="65px";};logodiv[0].style.height="120px";}else{header.classList.remove("sticky");if(container.lenght>0){container[0].style.marginTop="0px";};spectral.style.display="none";logodiv[0].style.height="220px";}}
if(screen<=850){if(window.pageYOffset>150){spectral.style.display="block";}else{spectral.style.display="none";}}});}}
let chemin=window.location.pathname;if(chemin.search('NSI')>-1){baniere=document.querySelector("#myHeader");let linkBox=document.createElement('div');linkBox.classList.add('linkBox');let newH=document.createElement('a');newH.innerHTML='<a href="/docs/NSI/NSI_index/index.html">NSI</a>';newH.classList.add('nsi');linkBox.appendChild(newH);baniere.appendChild(linkBox);}</script><style>#myHeader{display:flex;flex-direction:row-reverse}#myHeader>.titre{width:80%;min-width:300px;text-align:left}.linkBox{margin:10px;padding-top:10px;background-color:pink;min-width:50px}.isn{}</style></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav role=navigation><div class=site-menu-before style=height:220px;display:block><img src=/logo-site.svg id=spectral height=50% style=display:none></div><style>nav ul a[href$=\2f docs\2fpython\2fpages\2fvariables\2fpage3\2f ]{color:#004ed0}</style><ul><li><a href=/><strong>Accueil</strong></a></li><li><a href=/docs/esf/esf_index/><strong>ESF</strong></a></li><li><p><a href=/docs/SNT_2nde/SNT_index/><strong>SNT secondes</strong></a></p></li><li><p><a href=/docs/NSI/NSI_index/><strong>NSI</strong></a></p></li><li><p><a href=/docs/python/index_python/><strong>Python</strong></a></p></li><li><p><a href=/docs/PC_2nde/PC_index/><strong>Physique Chimie 2nde</strong></a></p></li><li><p><a href=/docs/PC_1ere/PC_index/><strong>Physique 1ere Spé</strong></a></p></li><li><p><a href=/posts/><strong>Posts</strong></a></p></li><li><p><a href=/docs/contact/simple-contact-form/><strong>Contact</strong></a></p></li></ul></nav><script>(function(){var menu=document.querySelector('aside.book-menu nav')
addEventListener('beforeunload',function(event){localStorage.setItem('menu.scrollTop',menu.scrollTop)});menu.scrollTop=localStorage.getItem('menu.scrollTop')})()</script></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/svg/menu.svg alt=Menu></label>
<strong>TP variables</strong></header><article class=markdown><h1 id=travaux-pratiques>Travaux pratiques</h1><h2 id=les-types-élémentaires-en-python>Les types élémentaires en python</h2><p>Vous traiterez chacun des exemples suivants en utilisant l&rsquo;editeur de <a href="http://www.pythontutor.com/visualize.html#mode=edit">pythontutor</a></p><blockquote><p>Saisir les 2 lignes de code suivantes :</p></blockquote><figure><img src=../images/pythontutor1.png></figure><blockquote><p>Cliquer sur <strong>Visualize execution</strong>.</p></blockquote><figure><img src=../images/pythontutor2.png></figure><blockquote><p>Dérouler alors le script ligne par ligne avec <strong>next</strong>.</p></blockquote><h3 id=créer-des-tests-sur-l-identité-des-variables>créer des tests sur l&rsquo;identité des variables</h3><blockquote><p>Revenir à la page d&rsquo;edition : cliquer sur le lien : <strong>Create test cases</strong>, puis <strong>add test</strong>.</p><p>Ajouter alors les 3 tests suivants :</p></blockquote><figure><img src=../images/pythontutor3.png></figure><blockquote><p>Faire alors : <strong>Run all tests</strong>.</p></blockquote><p>Les smileys vous indiquent alors si le test renvoie <code>True</code> ou <code>False</code>. Lorsque les test d&rsquo;assertion sont mis dans un programme, une valeur <code>False</code> de l&rsquo;expression arrête prématuremment le programme. L&rsquo;interêt est plus grand si on ajoute un commentaire explicite. C&rsquo;est le message qui serait normalement affiché dans le <code>Traceback</code> de la console. (trace d&rsquo;erreur).</p><blockquote><p>Reporter dans la fiche de reponses les expressions qui donnent <code>True</code>.</p><p>Revenir dans la fenêtre d&rsquo;edition et ajouter maintenant la ligne : <code>b = 3</code>.
Refaire les tests et reporter les expressions qui donnent <code>True</code>.</p></blockquote><h2 id=autres-types-élementaires>Autres types élementaires</h2><blockquote><p>Sur le modèle du script précédent, vous allez maintenant choisir un autre type élementaire pour les données affectées à <code>a</code> et à <code>b</code>.
Conclure.</p></blockquote><h2 id=types-mutables>types mutables</h2><blockquote><p>Remplacer le script précédent par celui-ci :</p></blockquote><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>a</span> <span style=color:#f92672>=</span> <span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>]</span>
<span style=color:#111>b</span> <span style=color:#f92672>=</span> <span style=color:#111>a</span>
<span style=color:#111>b</span><span style=color:#f92672>.</span><span style=color:#111>append</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>)</span>

<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#d88200>&#39;a = {}&#39;</span><span style=color:#f92672>.</span><span style=color:#111>format</span><span style=color:#111>(</span><span style=color:#111>a</span><span style=color:#111>))</span></code></pre></div><blockquote><p>Puis réaliser les mêmes opérations : <em>Visualiser pas à pas</em>, tester l&rsquo;identité des variables avec les assertions.
Conclure.</p></blockquote><h1 id=fonctions-et-objets-mutables-non-mutables>Fonctions et objets mutables/non mutables</h1><p>Les objets mutables passés en argument d&rsquo;une fonction sont copié par <strong>référence</strong>.</p><h2 id=objets-non-mutables-copie-par-valeur>Objets non mutables : copie par valeur</h2><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># définition d&#39;une fonction carre()</span>
<span style=color:#00a8c8>def</span> <span style=color:#75af00>carre</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>):</span>
    <span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#111>x</span><span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>
    <span style=color:#00a8c8>return</span> <span style=color:#111>y</span>

<span style=color:#75715e># programme principal</span>
<span style=color:#111>z</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>
<span style=color:#111>resultat</span> <span style=color:#f92672>=</span> <span style=color:#111>carre</span><span style=color:#111>(</span><span style=color:#111>z</span><span style=color:#111>)</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#111>resultat</span><span style=color:#111>)</span></code></pre></div><blockquote><p>Tester ce script avec l&rsquo;editeur de Pythontutor.
Et resumer les étapes observées lors du déroulement du script.
On pourra s&rsquo;aider du cours en ligne <a href=https://python.sdv.univ-paris-diderot.fr/09_fonctions/#96-variables-locales-et-variables-globales>Université Diderot</a></p></blockquote><h2 id=objets-mutables-copie-par-référence>Objets mutables : copie par référence</h2><blockquote><p>refaire le même exercice, mais cette fois avec le script suivant. Cette fois, c&rsquo;est une liste (objet mutable) qui est passée en argument :</p></blockquote><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>L1</span> <span style=color:#f92672>=</span> <span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#ae81ff>3</span><span style=color:#111>]</span>
<span style=color:#00a8c8>def</span> <span style=color:#75af00>mafonction</span><span style=color:#111>(</span><span style=color:#111>L2</span><span style=color:#111>):</span>
    <span style=color:#111>L2</span><span style=color:#111>[</span><span style=color:#ae81ff>2</span><span style=color:#111>]</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>
    <span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#111>L1</span> <span style=color:#f92672>is</span> <span style=color:#111>L2</span><span style=color:#111>)</span>
    <span style=color:#00a8c8>return</span> <span style=color:#111>L2</span>
<span style=color:#111>mafonction</span><span style=color:#111>(</span><span style=color:#111>L1</span><span style=color:#111>)</span></code></pre></div><blockquote><p>tester le script avec pythontutor (ne pas ré-écrire les commentaires)</p><p>résumer sur la fiche réponse.</p></blockquote><h1 id=conclusion-objets-mutables-et-non-mutables>Conclusion : objets mutables et non mutables</h1><h2 id=objets-non-mutables-en-python>Objets non mutables en python</h2><p>Les variables simples sont non mutables. On peut réaliser des affectations, ce qui a pour effet de mettre à jour la valeur stockée dans la mémoire réservée.
On peut illustrer ceci avec le scripts :</p><p><strong>Exemple simple :</strong></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
<span style=color:#111>b</span> <span style=color:#f92672>=</span> <span style=color:#111>a</span>
<span style=color:#111>(</span><span style=color:#111>a</span> <span style=color:#f92672>is</span> <span style=color:#111>b</span><span style=color:#111>)</span>
<span style=color:#75715e># True car b est la copie de a. Ce sont les mêmes objets. </span></code></pre></div><p>puis :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
<span style=color:#111>b</span> <span style=color:#f92672>=</span> <span style=color:#111>a</span>
<span style=color:#111>b</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>
<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#111>a</span><span style=color:#111>)</span>
<span style=color:#75715e># 2</span>
<span style=color:#111>(</span><span style=color:#111>a</span> <span style=color:#f92672>is</span> <span style=color:#111>b</span><span style=color:#111>)</span>
<span style=color:#75715e># False car on a affecté un nouvel objet à b, qui n&#39;est alors plus rigoureusement identique à a</span></code></pre></div><h2 id=objets-mutables-en-python>Objets mutables en python</h2><p>La copie d&rsquo;un objet <em>mutable</em> se fait par <em>référence</em>. Cela peut entrainer des erreurs lors de la manipulation de ces objets, puisque la modification de l&rsquo;un va aussi modifier toutes les variables mutables possédant la même référence :</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#111>a</span> <span style=color:#f92672>=</span> <span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#ae81ff>3</span><span style=color:#111>]</span>
<span style=color:#111>b</span> <span style=color:#f92672>=</span> <span style=color:#111>a</span>
<span style=color:#111>b</span><span style=color:#f92672>.</span><span style=color:#111>append</span><span style=color:#111>(</span><span style=color:#ae81ff>4</span><span style=color:#111>)</span>

<span style=color:#00a8c8>print</span><span style=color:#111>(</span><span style=color:#d88200>&#39;a = {}&#39;</span><span style=color:#f92672>.</span><span style=color:#111>format</span><span style=color:#111>(</span><span style=color:#111>a</span><span style=color:#111>))</span>
<span style=color:#75715e># affiche a = [1, 2, 3, 4]</span>
<span style=color:#111>a</span> <span style=color:#f92672>is</span> <span style=color:#111>b</span>
<span style=color:#75715e># affiche True car a et b sont deux noms pour un même objet.</span></code></pre></div><p>Pour faire une copie de la liste a par <em>valeur</em>, il faudra la découper sans mentionner les 2 indices, ou bien utiliser la fonction <code>list</code> :
voir la page <a href=/docs/python/pages/variables/page2/#copie-d-une-liste>méthode et types</a></p><p>Un objet mutable passé en argument d&rsquo;une fonction est modifié par ce que l&rsquo;on appelle : un <em>effet de bord</em> dans la fonction.</p><p><input type=button class="btn btn-lg" value="Retour à la page : Variables" onclick="window.location.href='../page1/'"></p></article><div style=height:100px></div></div><aside class="book-toc fixed"><nav id=TableOfContents><ul><li><a href=#travaux-pratiques>Travaux pratiques</a><ul><li><a href=#les-types-élémentaires-en-python>Les types élémentaires en python</a><ul><li><a href=#créer-des-tests-sur-l-identité-des-variables>créer des tests sur l&rsquo;identité des variables</a></li></ul></li><li><a href=#autres-types-élementaires>Autres types élementaires</a></li><li><a href=#types-mutables>types mutables</a></li></ul></li><li><a href=#fonctions-et-objets-mutables-non-mutables>Fonctions et objets mutables/non mutables</a><ul><li><a href=#objets-non-mutables-copie-par-valeur>Objets non mutables : copie par valeur</a></li><li><a href=#objets-mutables-copie-par-référence>Objets mutables : copie par référence</a></li></ul></li><li><a href=#conclusion-objets-mutables-et-non-mutables>Conclusion : objets mutables et non mutables</a><ul><li><a href=#objets-non-mutables-en-python>Objets non mutables en python</a></li><li><a href=#objets-mutables-en-python>Objets mutables en python</a></li></ul></li></ul></nav></aside></main><div class=site_footer><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt="Licence Creative Commons" style=border-width:0 src=/creative.png></a>
<span xmlns:dct=http://purl.org/dc/terms/ property=dct:title>Sciences numeriques</span> de <a xmlns:cc=http://creativecommons.org/ns# href property=cc:attributionName rel=cc:attributionurl>numerix.netlify.com</a> est mis à disposition selon les termes de la <a rel=license href=http://creativecommons.org/licenses/by/4.0/>licence Creative Commons Attribution 4.0 International</a></div></body></html>