<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>MB capteurs integres
| Sciences numériques</title><link href="https://fonts.googleapis.com/css?family=Oxygen|Oxygen+Mono:300,400,700" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel=stylesheet><script type=text/x-mathjax-config>
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.0/prism.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-167114468-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-167114468-1');</script><link rel=stylesheet href=/book.min.32802dced2d04a5a7553a22b5967b5f4538a6110e52a9b615a3ed5ee836e87c1.css><link rel=icon href=/favicon.png type=image/x-icon><div class=my-header-container><div class=my-site-header><img src=/logo-site-b.svg width="150 px"></div><div id=myHeader><div class=titre><h2><a href=/>Sciences numériques</a></h2></div></div></div><script async>window.onload=function(){let container=document.getElementsByClassName("book-page");let logodiv=document.getElementsByClassName("site-menu-before");let header=document.getElementById("myHeader");let screen=window.innerWidth;let site_footer=document.querySelector(".site_footer");try{let site_TOC=document.querySelector("#TableOfContents>ul");let newP=document.createElement('li');newP.textContent='Contenu de la page';site_TOC.appendChild(newP,null);}
catch(err)
{console.log(err.message);}
if(site_footer.parentNode!=document.body){let father=site_footer.parentNode;let clone=site_footer.cloneNode;father.removeChild(site_footer);document.body.appendChild(clone);}
if(screen<=850){document.getElementsByClassName("my-site-header")[0].style.display="none";}else{window.addEventListener("scroll",function(e){let spectral=document.getElementById("spectral");if(screen>850){if(window.pageYOffset>150){header.classList.add("sticky");if(container.lenght>0){container[0].style.marginTop="65px";};logodiv[0].style.height="120px";}else{header.classList.remove("sticky");if(container.lenght>0){container[0].style.marginTop="0px";};spectral.style.display="none";logodiv[0].style.height="220px";}}
if(screen<=850){if(window.pageYOffset>150){spectral.style.display="block";}else{spectral.style.display="none";}}});}}
let chemin=window.location.pathname;if(chemin.search('NSI')>-1){baniere=document.querySelector("#myHeader");let linkBox=document.createElement('div');linkBox.classList.add('linkBox');let newH=document.createElement('a');newH.innerHTML='<a href="/docs/NSI/NSI_index/index.html">NSI</a>';newH.classList.add('nsi');linkBox.appendChild(newH);baniere.appendChild(linkBox);}</script><style>#myHeader{display:flex;flex-direction:row-reverse}#myHeader>.titre{width:80%;min-width:300px;text-align:left}.linkBox{margin:10px;padding-top:10px;background-color:pink;min-width:50px}.isn{}</style></head><body><input type=checkbox style=display:none id=menu-control><main class="flex container"><aside class="book-menu fixed"><nav role=navigation><div class=site-menu-before style=height:220px;display:block><img src=/logo-site.svg id=spectral height=50% style=display:none></div><style>nav ul a[href$=\2f docs\2fSNT_2nde\2fpages\2fpage12\2fMB_integ\2f ]{color:#004ed0}</style><ul><li><a href=/><strong>Accueil</strong></a></li><li><a href=/docs/esf/esf_index/><strong>ESF</strong></a></li><li><p><a href=/docs/SNT_2nde/SNT_index/><strong>SNT secondes</strong></a></p></li><li><p><a href=/docs/NSI/NSI_index/><strong>NSI</strong></a></p><ul><li><a href=/docs/NSI/NSI_architecture/>architecture informatique</a></li><li><a href=/docs/NSI/NSI_structure/>structure de données</a></li><li><a href=/docs/NSI/NSI_bases/>bases de données</a></li><li><a href=/docs/NSI/NSI_langages/>langages</a></li><li><a href=/docs/NSI/NSI_algorithmes/>algorithmes</a><br></li></ul></li><li><p><a href=/docs/python/index_python/><strong>Python</strong></a></p></li><li><p><a href=/docs/PC_2nde/PC_index/><strong>Physique Chimie 2nde</strong></a></p></li><li><p><a href=/docs/PC_1ere/PC_index/><strong>Physique 1ere Spé</strong></a></p></li><li><p><a href=/posts/><strong>Posts</strong></a></p></li><li><p><a href=/docs/contact/simple-contact-form/><strong>Contact</strong></a></p></li></ul></nav><script>(function(){var menu=document.querySelector('aside.book-menu nav')
addEventListener('beforeunload',function(event){localStorage.setItem('menu.scrollTop',menu.scrollTop)});menu.scrollTop=localStorage.getItem('menu.scrollTop')})()</script></aside><div class=book-page><header class="align-center justify-between book-header"><label for=menu-control><img src=/svg/menu.svg alt=Menu></label>
<strong>MB capteurs integres</strong></header><article class=markdown><h1 id=capteurs-intégrés>Capteurs intégrés</h1><h2 id=description>Description</h2><p>La carte microbit dispose de plusieurs capteurs intégrés:</p><ul><li>temperature</li><li>acceleromètre à 3 axes</li><li>mesure de champs magnétique</li><li>luminosité</li></ul><h2 id=mesure-d-horizontalité>Mesure d&rsquo;horizontalité</h2><h3 id=principe>Principe</h3><p>On utilisera le capteur &ldquo;acceleromètre&rdquo;.</p><p>Le champs de pesanteur génère une force, le poids, qui peut être mesurée par l&rsquo;acceleromètre. Une des applications principale des accéléromètres est le calcul d’inclinaison. Ca permet de savoir comment est orienté votre microcontrôleur par rapport à la terre. C&rsquo;est ainsi que sur un smartphone, celui-ci passe du mode portrait au mode paysage par rotation d&rsquo;un quart de tour.</p><p>C&rsquo;est un composant électronique qui réalise cette mesure: une tige de silicium est chargée électriquement et la cage dans laquelle elle se trouve également, le déplacement de charges portée sur la tige est détectable et on en déduit le sens du déplacement.(<a href="https://couleur-science.eu/?d=669308--comment-fonctionne-un-accelerometre-de-smartphone">source</a>).</p><figure><div><img src=https://howtomechatronics.com/wp-content/uploads/2015/11/MEMS-Accelerometer-How-It-Works.jpg><figcaption>principe d’un accéléromètre électromécanique (la partie rouge se met en mouvement par rapport au reste et le décalage est détecté grace au déplacement de charge qu’elle porte) — <a href=http://howtomechatronics.com/how-it-works/electrical-engineering/mems-accelerometer-gyrocope-magnetometer-arduino/>(source)</a></figcaption></div></figure><h3 id=script-1>Script 1</h3><p>Ce programme lit les valeurs toutes les 100 ms et affiche une flèche correspondant à la direction du mouvement sur l’écran micro:bit.</p><p>La mesure de l&rsquo;acceleration est faite dans la direction X:</p><figure><div><img src=../images/MB_3axes.png></div></figure><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> <span style=color:#111>microbit</span> <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>

<span style=color:#00a8c8>while</span> <span style=color:#111>True</span><span style=color:#111>:</span>
    <span style=color:#111>acc</span> <span style=color:#f92672>=</span> <span style=color:#111>accelerometer</span><span style=color:#f92672>.</span><span style=color:#111>get_x</span><span style=color:#111>()</span>
    <span style=color:#00a8c8>if</span> <span style=color:#111>acc</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span><span style=color:#111>:</span>
        <span style=color:#111>display</span><span style=color:#f92672>.</span><span style=color:#111>show</span><span style=color:#111>(</span><span style=color:#111>Image</span><span style=color:#f92672>.</span><span style=color:#111>ARROW_E</span><span style=color:#111>)</span>
    <span style=color:#00a8c8>else</span><span style=color:#111>:</span>
        <span style=color:#111>display</span><span style=color:#f92672>.</span><span style=color:#111>show</span><span style=color:#111>(</span><span style=color:#111>Image</span><span style=color:#f92672>.</span><span style=color:#111>ARROW_W</span><span style=color:#111>)</span>
    <span style=color:#111>sleep</span><span style=color:#111>(</span><span style=color:#ae81ff>100</span><span style=color:#111>)</span> </code></pre></div><h3 id=script-2>Script 2</h3><p>L’écran montre un pixel qui sera bien centré si le micro:bit est bien à l’horizontale ou qui sera décalé en direction de l’inclinaison dans le cas contraire. Le but est donc de mettre le micro:bit parfaitement à plat, de sorte qu’uniquement la LED centrale soit allumée. (<a href="https://www.tigerjython4kids.ch/franz/drucken.php?inhalt_mitte=robotik/microbit/sensor.inc.php">source</a>)</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> <span style=color:#111>microbit</span> <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>

<span style=color:#111>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
<span style=color:#111>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>

<span style=color:#00a8c8>while</span> <span style=color:#111>True</span><span style=color:#111>:</span>
    <span style=color:#111>accX</span> <span style=color:#f92672>=</span> <span style=color:#111>accelerometer</span><span style=color:#f92672>.</span><span style=color:#111>get_x</span><span style=color:#111>()</span>
    <span style=color:#111>accY</span> <span style=color:#f92672>=</span> <span style=color:#111>accelerometer</span><span style=color:#f92672>.</span><span style=color:#111>get_y</span><span style=color:#111>()</span> 
    <span style=color:#00a8c8>if</span> <span style=color:#111>accX</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>and</span> <span style=color:#111>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span><span style=color:#111>:</span>
        <span style=color:#111>x</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
    <span style=color:#00a8c8>elif</span> <span style=color:#111>accX</span> <span style=color:#f92672>&lt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span> <span style=color:#f92672>and</span> <span style=color:#111>x</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span><span style=color:#111>:</span>
        <span style=color:#111>x</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
    <span style=color:#00a8c8>elif</span> <span style=color:#111>accY</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>and</span> <span style=color:#111>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span><span style=color:#111>:</span>
        <span style=color:#111>y</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
    <span style=color:#00a8c8>elif</span> <span style=color:#111>accY</span> <span style=color:#f92672>&lt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span> <span style=color:#f92672>and</span> <span style=color:#111>y</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span><span style=color:#111>:</span>
        <span style=color:#111>y</span> <span style=color:#f92672>-=</span> <span style=color:#ae81ff>1</span>
    <span style=color:#111>display</span><span style=color:#f92672>.</span><span style=color:#111>clear</span><span style=color:#111>()</span>
    <span style=color:#111>display</span><span style=color:#f92672>.</span><span style=color:#111>set_pixel</span><span style=color:#111>(</span><span style=color:#111>x</span><span style=color:#111>,</span> <span style=color:#111>y</span><span style=color:#111>,</span> <span style=color:#ae81ff>9</span><span style=color:#111>)</span>
    <span style=color:#111>sleep</span><span style=color:#111>(</span><span style=color:#ae81ff>100</span><span style=color:#111>)</span></code></pre></div><h2 id=utilisation-de-la-boussole>Utilisation de la boussole</h2><p>La boussole s&rsquo;utilise avec <code>compass</code> mais elle doit etre calibrée avant utilisation : <a href=https://microbit-micropython.readthedocs.io/fr/latest/tutorials/direction.html>voir doc</a></p><p>L&rsquo;instruction en micropython est: <code>compass.heading()</code></p><p><em>Exemple:</em></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> <span style=color:#111>microbit</span> <span style=color:#f92672>import</span> <span style=color:#f92672>*</span>

<span style=color:#111>compass</span><span style=color:#f92672>.</span><span style=color:#111>calibrate</span><span style=color:#111>()</span>

<span style=color:#00a8c8>while</span> <span style=color:#111>True</span><span style=color:#111>:</span>
    <span style=color:#111>aiguille</span> <span style=color:#f92672>=</span> <span style=color:#111>((</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>-</span> <span style=color:#111>compass</span><span style=color:#f92672>.</span><span style=color:#111>heading</span><span style=color:#111>())</span> <span style=color:#f92672>//</span> <span style=color:#ae81ff>30</span><span style=color:#111>)</span> <span style=color:#f92672>%</span> <span style=color:#ae81ff>12</span>
    <span style=color:#111>display</span><span style=color:#f92672>.</span><span style=color:#111>show</span><span style=color:#111>(</span><span style=color:#111>Image</span><span style=color:#f92672>.</span><span style=color:#111>ALL_CLOCKS</span><span style=color:#111>[</span><span style=color:#111>aiguille</span><span style=color:#111>])</span></code></pre></div><h2 id=utilisation-du-thermomètre>Utilisation du thermomètre</h2><p>L&rsquo;instruction pour mesurer la température est: <code>temperature()</code>, que l&rsquo;on peut afficher directement sur la carte avec <code>display.scroll(temperature())</code>.</p><p>Voir aussi l&rsquo;exemple avec l&rsquo;affichage à LED: <a href=../MB_7/index.html>Lien</a></p><h1 id=liens>Liens</h1><p><a href=https://www.isnbreizh.fr/nsi/activity/microbitRessources/assets/decouverte_microbit.pdf>Vincent Le Mieux, www.laboiteaphysique.fr</a></p></article><div style=height:100px></div></div><aside class="book-toc fixed"><nav id=TableOfContents><ul><li><a href=#capteurs-intégrés>Capteurs intégrés</a><ul><li><a href=#description>Description</a></li><li><a href=#mesure-d-horizontalité>Mesure d&rsquo;horizontalité</a><ul><li><a href=#principe>Principe</a></li><li><a href=#script-1>Script 1</a></li><li><a href=#script-2>Script 2</a></li></ul></li><li><a href=#utilisation-de-la-boussole>Utilisation de la boussole</a></li><li><a href=#utilisation-du-thermomètre>Utilisation du thermomètre</a></li></ul></li><li><a href=#liens>Liens</a></li></ul></nav></aside></main><div class=site_footer><a rel=license href=http://creativecommons.org/licenses/by/4.0/><img alt="Licence Creative Commons" style=border-width:0 src=/creative.png></a>
<span xmlns:dct=http://purl.org/dc/terms/ property=dct:title>Sciences numeriques</span> de <a xmlns:cc=http://creativecommons.org/ns# href property=cc:attributionName rel=cc:attributionurl>numerix.netlify.com</a> est mis à disposition selon les termes de la <a rel=license href=http://creativecommons.org/licenses/by/4.0/>licence Creative Commons Attribution 4.0 International</a></div></body></html>